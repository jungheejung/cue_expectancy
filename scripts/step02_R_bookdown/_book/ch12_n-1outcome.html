<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 12 (N-2) shifted outcome ratings ~ (N) expectation ratings; Jayazeri (2018) | behavioral_ICC</title>
  <meta name="description" content="<p>This is a logbook of all the mixed model analyses in one setting.
set in the _output.yml file.
The HTML output format for this example is bookdown::gitbook,</p>" />
  <meta name="generator" content="bookdown 0.32 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 12 (N-2) shifted outcome ratings ~ (N) expectation ratings; Jayazeri (2018) | behavioral_ICC" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="<p>This is a logbook of all the mixed model analyses in one setting.
set in the _output.yml file.
The HTML output format for this example is bookdown::gitbook,</p>" />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 12 (N-2) shifted outcome ratings ~ (N) expectation ratings; Jayazeri (2018) | behavioral_ICC" />
  
  <meta name="twitter:description" content="<p>This is a logbook of all the mixed model analyses in one setting.
set in the _output.yml file.
The HTML output format for this example is bookdown::gitbook,</p>" />
  

<meta name="author" content="Heejung Jung" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="ch11_n-1outcome.html"/>
<link rel="next" href="ch13_outcome-expect.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<script src="libs/plotly-binding-4.10.1/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet" />
<script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-2.11.1/plotly-latest.min.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Analysis logbook: cue-expectancy</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> About</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#usage"><i class="fa fa-check"></i><b>1.1</b> Usage</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="ch2_expect.html"><a href="ch2_expect.html"><i class="fa fa-check"></i><b>2</b> expectation_rating ~ cue</a>
<ul>
<li class="chapter" data-level="2.1" data-path="ch2_expect.html"><a href="ch2_expect.html#what-is-the-purpose-of-this-notebook"><i class="fa fa-check"></i><b>2.1</b> What is the purpose of this notebook?</a></li>
<li class="chapter" data-level="2.2" data-path="ch2_expect.html"><a href="ch2_expect.html#pain"><i class="fa fa-check"></i><b>2.2</b> Pain</a></li>
<li class="chapter" data-level="2.3" data-path="ch2_expect.html"><a href="ch2_expect.html#vicarious"><i class="fa fa-check"></i><b>2.3</b> Vicarious</a></li>
<li class="chapter" data-level="2.4" data-path="ch2_expect.html"><a href="ch2_expect.html#cognitive"><i class="fa fa-check"></i><b>2.4</b> Cognitive</a></li>
<li class="chapter" data-level="2.5" data-path="ch2_expect.html"><a href="ch2_expect.html#individual-difference-analysis"><i class="fa fa-check"></i><b>2.5</b> Individual difference analysis</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="ch03_cue.html"><a href="ch03_cue.html"><i class="fa fa-check"></i><b>3</b> outcome_rating ~ cue</a>
<ul>
<li class="chapter" data-level="3.1" data-path="ch03_cue.html"><a href="ch03_cue.html#what-is-the-purpose-of-this-notebook-1"><i class="fa fa-check"></i><b>3.1</b> What is the purpose of this notebook?</a></li>
<li class="chapter" data-level="3.2" data-path="ch03_cue.html"><a href="ch03_cue.html#pain-1"><i class="fa fa-check"></i><b>3.2</b> Pain</a></li>
<li class="chapter" data-level="3.3" data-path="ch03_cue.html"><a href="ch03_cue.html#vicarious-1"><i class="fa fa-check"></i><b>3.3</b> Vicarious</a></li>
<li class="chapter" data-level="3.4" data-path="ch03_cue.html"><a href="ch03_cue.html#cognitive-1"><i class="fa fa-check"></i><b>3.4</b> Cognitive</a></li>
<li class="chapter" data-level="3.5" data-path="ch03_cue.html"><a href="ch03_cue.html#individual-differences-analysis"><i class="fa fa-check"></i><b>3.5</b> individual differences analysis</a></li>
<li class="chapter" data-level="3.6" data-path="ch03_cue.html"><a href="ch03_cue.html#individual-differences-analysis-1"><i class="fa fa-check"></i><b>3.6</b> individual differences analysis</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="ch04_outcome-stim.html"><a href="ch04_outcome-stim.html"><i class="fa fa-check"></i><b>4</b> outcome_rating ~ stimulus_intensity</a>
<ul>
<li class="chapter" data-level="4.1" data-path="ch04_outcome-stim.html"><a href="ch04_outcome-stim.html#what-is-the-purpose-of-this-notebook-2"><i class="fa fa-check"></i><b>4.1</b> What is the purpose of this notebook?</a></li>
<li class="chapter" data-level="4.2" data-path="ch04_outcome-stim.html"><a href="ch04_outcome-stim.html#pain-2"><i class="fa fa-check"></i><b>4.2</b> Pain</a></li>
<li class="chapter" data-level="4.3" data-path="ch04_outcome-stim.html"><a href="ch04_outcome-stim.html#vicarious-2"><i class="fa fa-check"></i><b>4.3</b> Vicarious</a></li>
<li class="chapter" data-level="4.4" data-path="ch04_outcome-stim.html"><a href="ch04_outcome-stim.html#cognitive-2"><i class="fa fa-check"></i><b>4.4</b> Cognitive</a></li>
<li class="chapter" data-level="4.5" data-path="ch04_outcome-stim.html"><a href="ch04_outcome-stim.html#individual-differences-in-outcome-rating-cue-effect"><i class="fa fa-check"></i><b>4.5</b> individual differences in outcome rating cue effect</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="ch05_outcome-cueXstim.html"><a href="ch05_outcome-cueXstim.html"><i class="fa fa-check"></i><b>5</b> outcome_rating ~ cue * stim</a>
<ul>
<li class="chapter" data-level="5.1" data-path="ch05_outcome-cueXstim.html"><a href="ch05_outcome-cueXstim.html#what-is-the-purpose-of-this-notebook-3"><i class="fa fa-check"></i><b>5.1</b> What is the purpose of this notebook?</a></li>
<li class="chapter" data-level="5.2" data-path="ch05_outcome-cueXstim.html"><a href="ch05_outcome-cueXstim.html#model-03-iv-cuecontrast-dv-actual"><i class="fa fa-check"></i><b>5.2</b> model 03 iv-cuecontrast dv-actual</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="ch05_outcome-cueXstim.html"><a href="ch05_outcome-cueXstim.html#model-03-3-2.-individual-difference"><i class="fa fa-check"></i><b>5.2.1</b> model 03 3-2. individual difference</a></li>
<li class="chapter" data-level="5.2.2" data-path="ch05_outcome-cueXstim.html"><a href="ch05_outcome-cueXstim.html#model-04-iv-cue-stim-dv-actual"><i class="fa fa-check"></i><b>5.2.2</b> model 04 iv-cue-stim dv-actual</a></li>
<li class="chapter" data-level="5.2.3" data-path="ch05_outcome-cueXstim.html"><a href="ch05_outcome-cueXstim.html#model-04-4-2-individual-differences-in-cue-effects"><i class="fa fa-check"></i><b>5.2.3</b> model 04 4-2 individual differences in cue effects</a></li>
<li class="chapter" data-level="5.2.4" data-path="ch05_outcome-cueXstim.html"><a href="ch05_outcome-cueXstim.html#model-04-4-3-scatter-plot"><i class="fa fa-check"></i><b>5.2.4</b> model 04 4-3 scatter plot</a></li>
<li class="chapter" data-level="5.2.5" data-path="ch05_outcome-cueXstim.html"><a href="ch05_outcome-cueXstim.html#model-04-4-4-lineplot"><i class="fa fa-check"></i><b>5.2.5</b> model 04 4-4 lineplot</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="ch06_Jepma.html"><a href="ch06_Jepma.html"><i class="fa fa-check"></i><b>6</b> expect-actual ~ cue * trial</a>
<ul>
<li class="chapter" data-level="6.1" data-path="ch06_Jepma.html"><a href="ch06_Jepma.html#overview"><i class="fa fa-check"></i><b>6.1</b> Overview</a></li>
<li class="chapter" data-level="6.2" data-path="ch06_Jepma.html"><a href="ch06_Jepma.html#plot-1---one-run-average-across-participants"><i class="fa fa-check"></i><b>6.2</b> plot 1 - one run, average across participants</a></li>
<li class="chapter" data-level="6.3" data-path="ch06_Jepma.html"><a href="ch06_Jepma.html#plot-2---average-across-participant-but-spread-all-6-runs-in-one-x-axis"><i class="fa fa-check"></i><b>6.3</b> plot 2 - average across participant, but spread all 6 runs in one x axis</a></li>
<li class="chapter" data-level="6.4" data-path="ch06_Jepma.html"><a href="ch06_Jepma.html#do-current-expectation-ratings-predict-outcome-ratings"><i class="fa fa-check"></i><b>6.4</b> Do current expectation ratings predict outcome ratings?</a></li>
<li class="chapter" data-level="6.5" data-path="ch06_Jepma.html"><a href="ch06_Jepma.html#additional-analysis"><i class="fa fa-check"></i><b>6.5</b> Additional analysis</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="ch07_RT-cue.html"><a href="ch07_RT-cue.html"><i class="fa fa-check"></i><b>7</b> RT ~ cue</a>
<ul>
<li class="chapter" data-level="7.0.1" data-path="ch07_RT-cue.html"><a href="ch07_RT-cue.html#parameters"><i class="fa fa-check"></i><b>7.0.1</b> parameters</a></li>
<li class="chapter" data-level="7.0.2" data-path="ch07_RT-cue.html"><a href="ch07_RT-cue.html#plot-rt-data"><i class="fa fa-check"></i><b>7.0.2</b> 1) plot RT data</a></li>
<li class="chapter" data-level="7.0.3" data-path="ch07_RT-cue.html"><a href="ch07_RT-cue.html#plot-rt-distribution-per-participant"><i class="fa fa-check"></i><b>7.0.3</b> plot RT distribution per participant</a></li>
<li class="chapter" data-level="7.0.4" data-path="ch07_RT-cue.html"><a href="ch07_RT-cue.html#exclude-participants-with-rt-of-5-seconds"><i class="fa fa-check"></i><b>7.0.4</b> exclude participants with RT of 5 seconds</a></li>
<li class="chapter" data-level="7.1" data-path="ch07_RT-cue.html"><a href="ch07_RT-cue.html#model-1"><i class="fa fa-check"></i><b>7.1</b> model 1:</a></li>
<li class="chapter" data-level="7.2" data-path="ch07_RT-cue.html"><a href="ch07_RT-cue.html#model-1-1"><i class="fa fa-check"></i><b>7.2</b> model 1-1</a></li>
<li class="chapter" data-level="7.3" data-path="ch07_RT-cue.html"><a href="ch07_RT-cue.html#model-1-2"><i class="fa fa-check"></i><b>7.3</b> model 1-2:</a></li>
<li class="chapter" data-level="7.4" data-path="ch07_RT-cue.html"><a href="ch07_RT-cue.html#model-2"><i class="fa fa-check"></i><b>7.4</b> model 2:</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="ch08_RT-cueXstim.html"><a href="ch08_RT-cueXstim.html"><i class="fa fa-check"></i><b>8</b> RT ~ cue * stim</a>
<ul>
<li class="chapter" data-level="8.1" data-path="ch08_RT-cueXstim.html"><a href="ch08_RT-cueXstim.html#overview-model-05-iv-cue-dv-rt-summary"><i class="fa fa-check"></i><b>8.1</b> Overview model 05 iv-cue dv-RT summary</a></li>
<li class="chapter" data-level="8.2" data-path="ch08_RT-cueXstim.html"><a href="ch08_RT-cueXstim.html#prepare-data-and-preprocess"><i class="fa fa-check"></i><b>8.2</b> Prepare data and preprocess</a></li>
<li class="chapter" data-level="8.3" data-path="ch08_RT-cueXstim.html"><a href="ch08_RT-cueXstim.html#model-1-3"><i class="fa fa-check"></i><b>8.3</b> model 1:</a></li>
<li class="chapter" data-level="8.4" data-path="ch08_RT-cueXstim.html"><a href="ch08_RT-cueXstim.html#model-1-1-1"><i class="fa fa-check"></i><b>8.4</b> model 1-1</a></li>
<li class="chapter" data-level="8.5" data-path="ch08_RT-cueXstim.html"><a href="ch08_RT-cueXstim.html#model-1-2-1"><i class="fa fa-check"></i><b>8.5</b> model 1-2:</a></li>
<li class="chapter" data-level="8.6" data-path="ch08_RT-cueXstim.html"><a href="ch08_RT-cueXstim.html#model-2-log-transformation"><i class="fa fa-check"></i><b>8.6</b> model 2: Log transformation</a></li>
<li class="chapter" data-level="8.7" data-path="ch08_RT-cueXstim.html"><a href="ch08_RT-cueXstim.html#conclusion-across-model-1-and-2"><i class="fa fa-check"></i><b>8.7</b> Conclusion across model 1 and 2</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="ch09_tradeoff-cueXstim.html"><a href="ch09_tradeoff-cueXstim.html"><i class="fa fa-check"></i><b>9</b> cognitive RT tradeoff ~ cue * stim (withinsubject)</a>
<ul>
<li class="chapter" data-level="9.1" data-path="ch09_tradeoff-cueXstim.html"><a href="ch09_tradeoff-cueXstim.html#overview-1"><i class="fa fa-check"></i><b>9.1</b> Overview</a></li>
<li class="chapter" data-level="9.2" data-path="ch09_tradeoff-cueXstim.html"><a href="ch09_tradeoff-cueXstim.html#why-use-multilevel-models"><i class="fa fa-check"></i><b>9.2</b> Why use multilevel models?</a></li>
<li class="chapter" data-level="9.3" data-path="ch09_tradeoff-cueXstim.html"><a href="ch09_tradeoff-cueXstim.html#terminology"><i class="fa fa-check"></i><b>9.3</b> Terminology</a></li>
<li class="chapter" data-level="9.4" data-path="ch09_tradeoff-cueXstim.html"><a href="ch09_tradeoff-cueXstim.html#model-versions"><i class="fa fa-check"></i><b>9.4</b> Model versions</a></li>
<li class="chapter" data-level="9.5" data-path="ch09_tradeoff-cueXstim.html"><a href="ch09_tradeoff-cueXstim.html#method-1-one-sample-t"><i class="fa fa-check"></i><b>9.5</b> Method 1 one-sample t</a></li>
<li class="chapter" data-level="9.6" data-path="ch09_tradeoff-cueXstim.html"><a href="ch09_tradeoff-cueXstim.html#method-1-1-aov"><i class="fa fa-check"></i><b>9.6</b> Method 1-1 aov</a></li>
<li class="chapter" data-level="9.7" data-path="ch09_tradeoff-cueXstim.html"><a href="ch09_tradeoff-cueXstim.html#method-1-2-aov-contrast-coding"><i class="fa fa-check"></i><b>9.7</b> Method 1-2 aov contrast-coding</a></li>
<li class="chapter" data-level="9.8" data-path="ch09_tradeoff-cueXstim.html"><a href="ch09_tradeoff-cueXstim.html#method-1-effectsize-1"><i class="fa fa-check"></i><b>9.8</b> Method 1 effectsize</a></li>
<li class="chapter" data-level="9.9" data-path="ch09_tradeoff-cueXstim.html"><a href="ch09_tradeoff-cueXstim.html#method-2-matlab"><i class="fa fa-check"></i><b>9.9</b> Method 2 matlab</a></li>
<li class="chapter" data-level="9.10" data-path="ch09_tradeoff-cueXstim.html"><a href="ch09_tradeoff-cueXstim.html#method-3-multilevel-modeling"><i class="fa fa-check"></i><b>9.10</b> Method 3 multilevel modeling</a></li>
<li class="chapter" data-level="" data-path="ch09_tradeoff-cueXstim.html"><a href="ch09_tradeoff-cueXstim.html#conclusion-method-1-vs-method-3"><i class="fa fa-check"></i>Conclusion: Method 1 vs Method 3</a></li>
<li class="chapter" data-level="9.11" data-path="ch09_tradeoff-cueXstim.html"><a href="ch09_tradeoff-cueXstim.html#references"><i class="fa fa-check"></i><b>9.11</b> References</a></li>
<li class="chapter" data-level="9.12" data-path="ch09_tradeoff-cueXstim.html"><a href="ch09_tradeoff-cueXstim.html#other-links"><i class="fa fa-check"></i><b>9.12</b> Other links</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="ch10_icc.html"><a href="ch10_icc.html"><i class="fa fa-check"></i><b>10</b> outcome_rating ~ session (“behavioral ICC”)</a>
<ul>
<li class="chapter" data-level="10.1" data-path="ch10_icc.html"><a href="ch10_icc.html#functions"><i class="fa fa-check"></i><b>10.1</b> Functions</a></li>
<li class="chapter" data-level="10.2" data-path="ch10_icc.html"><a href="ch10_icc.html#todo"><i class="fa fa-check"></i><b>10.2</b> TODO:</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="ch11_n-1outcome.html"><a href="ch11_n-1outcome.html"><i class="fa fa-check"></i><b>11</b> N-1 outcome rating ~ N expectation rating</a>
<ul>
<li class="chapter" data-level="11.0.1" data-path="ch11_n-1outcome.html"><a href="ch11_n-1outcome.html#done"><i class="fa fa-check"></i><b>11.0.1</b> DONE</a></li>
<li class="chapter" data-level="11.1" data-path="ch11_n-1outcome.html"><a href="ch11_n-1outcome.html#overview-2"><i class="fa fa-check"></i><b>11.1</b> Overview</a></li>
<li class="chapter" data-level="11.2" data-path="ch11_n-1outcome.html"><a href="ch11_n-1outcome.html#do-previous-outcome-ratings-predict-current-expectation-ratings"><i class="fa fa-check"></i><b>11.2</b> Do previous outcome ratings predict current expectation ratings?</a></li>
<li class="chapter" data-level="11.3" data-path="ch11_n-1outcome.html"><a href="ch11_n-1outcome.html#additional-analysis-1"><i class="fa fa-check"></i><b>11.3</b> Additional analysis</a></li>
<li class="chapter" data-level="11.4" data-path="ch11_n-1outcome.html"><a href="ch11_n-1outcome.html#lets-demean-the-ratings."><i class="fa fa-check"></i><b>11.4</b> Let’s demean the ratings.</a></li>
<li class="chapter" data-level="11.5" data-path="ch11_n-1outcome.html"><a href="ch11_n-1outcome.html#demean-and-then-discretize"><i class="fa fa-check"></i><b>11.5</b> DEMEAN AND THEN DISCRETIZE</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="ch12_n-1outcome.html"><a href="ch12_n-1outcome.html"><i class="fa fa-check"></i><b>12</b> (N-2) shifted outcome ratings ~ (N) expectation ratings; Jayazeri (2018)</a>
<ul>
<li class="chapter" data-level="12.1" data-path="ch12_n-1outcome.html"><a href="ch12_n-1outcome.html#overview-3"><i class="fa fa-check"></i><b>12.1</b> Overview</a></li>
<li class="chapter" data-level="12.2" data-path="ch12_n-1outcome.html"><a href="ch12_n-1outcome.html#do-previous-outcome-ratings-predict-current-expectation-ratings-1"><i class="fa fa-check"></i><b>12.2</b> Do previous outcome ratings predict current expectation ratings?</a></li>
<li class="chapter" data-level="12.3" data-path="ch12_n-1outcome.html"><a href="ch12_n-1outcome.html#do-these-models-differ-as-a-function-of-cue"><i class="fa fa-check"></i><b>12.3</b> Do these models differ as a function of cue?</a></li>
<li class="chapter" data-level="12.4" data-path="ch12_n-1outcome.html"><a href="ch12_n-1outcome.html#lets-demean-the-ratings.-1"><i class="fa fa-check"></i><b>12.4</b> Let’s demean the ratings.</a></li>
<li class="chapter" data-level="12.5" data-path="ch12_n-1outcome.html"><a href="ch12_n-1outcome.html#demean-and-then-discretize-1"><i class="fa fa-check"></i><b>12.5</b> DEMEAN AND THEN DISCRETIZE</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="ch13_outcome-expect.html"><a href="ch13_outcome-expect.html"><i class="fa fa-check"></i><b>13</b> outcome ~ expect Jayazeri (2018)</a>
<ul>
<li class="chapter" data-level="13.1" data-path="ch13_outcome-expect.html"><a href="ch13_outcome-expect.html#overview-4"><i class="fa fa-check"></i><b>13.1</b> Overview</a></li>
<li class="chapter" data-level="13.2" data-path="ch13_outcome-expect.html"><a href="ch13_outcome-expect.html#do-expectation-ratings-predict-current-outcome-ratings-does-this-differ-as-a-function-of-cue"><i class="fa fa-check"></i><b>13.2</b> Do expectation ratings predict current outcome ratings? Does this differ as a function of cue?</a></li>
<li class="chapter" data-level="13.3" data-path="ch13_outcome-expect.html"><a href="ch13_outcome-expect.html#task-pain-hlm-modeling"><i class="fa fa-check"></i><b>13.3</b> task-pain, HLM modeling</a></li>
<li class="chapter" data-level="13.4" data-path="ch13_outcome-expect.html"><a href="ch13_outcome-expect.html#fig.-expectation-ratings-predict-outcome-ratings"><i class="fa fa-check"></i><b>13.4</b> Fig. Expectation ratings predict outcome ratings</a></li>
<li class="chapter" data-level="13.5" data-path="ch13_outcome-expect.html"><a href="ch13_outcome-expect.html#binned-expectation-ratings-per-task"><i class="fa fa-check"></i><b>13.5</b> binned expectation ratings per task</a>
<ul>
<li class="chapter" data-level="13.5.1" data-path="ch13_outcome-expect.html"><a href="ch13_outcome-expect.html#pain-binned-expectation-ratings"><i class="fa fa-check"></i><b>13.5.1</b> Pain: binned expectation ratings</a></li>
<li class="chapter" data-level="13.5.2" data-path="ch13_outcome-expect.html"><a href="ch13_outcome-expect.html#vicarious-binned-expectation-ratings"><i class="fa fa-check"></i><b>13.5.2</b> Vicarious: binned expectation ratings</a></li>
<li class="chapter" data-level="13.5.3" data-path="ch13_outcome-expect.html"><a href="ch13_outcome-expect.html#cognitive-binned-expectation-ratings"><i class="fa fa-check"></i><b>13.5.3</b> Cognitive: binned expectation ratings</a></li>
</ul></li>
<li class="chapter" data-level="13.6" data-path="ch13_outcome-expect.html"><a href="ch13_outcome-expect.html#not-splitting-into-cue-groups"><i class="fa fa-check"></i><b>13.6</b> not splitting into cue groups</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="ch14_factorize.html"><a href="ch14_factorize.html"><i class="fa fa-check"></i><b>14</b> outcome ~ cue * stim * expectrating * n-1outcomerating</a>
<ul>
<li class="chapter" data-level="14.1" data-path="ch14_factorize.html"><a href="ch14_factorize.html#overview-5"><i class="fa fa-check"></i><b>14.1</b> Overview</a></li>
<li class="chapter" data-level="14.2" data-path="ch14_factorize.html"><a href="ch14_factorize.html#linear-model"><i class="fa fa-check"></i><b>14.2</b> linear model</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="ch15_factorize.html"><a href="ch15_factorize.html"><i class="fa fa-check"></i><b>15</b> outcome_demean ~ cue * stim * expectrating * n-1outcomerating</a>
<ul>
<li class="chapter" data-level="15.1" data-path="ch15_factorize.html"><a href="ch15_factorize.html#overview-6"><i class="fa fa-check"></i><b>15.1</b> Overview</a></li>
<li class="chapter" data-level="15.2" data-path="ch15_factorize.html"><a href="ch15_factorize.html#linear-model-1"><i class="fa fa-check"></i><b>15.2</b> linear model</a></li>
<li class="chapter" data-level="15.3" data-path="ch15_factorize.html"><a href="ch15_factorize.html#q.-are-those-overestimating-for-high-cues-also-underestimators-for-low-cues"><i class="fa fa-check"></i><b>15.3</b> Q. Are those overestimating for high cues also underestimators for low cues?</a></li>
<li class="chapter" data-level="15.4" data-path="ch15_factorize.html"><a href="ch15_factorize.html#pain-run-collapsed-across-stimulus-intensity"><i class="fa fa-check"></i><b>15.4</b> pain run, collapsed across stimulus intensity</a></li>
<li class="chapter" data-level="15.5" data-path="ch15_factorize.html"><a href="ch15_factorize.html#vicarious-3"><i class="fa fa-check"></i><b>15.5</b> vicarious</a></li>
<li class="chapter" data-level="15.6" data-path="ch15_factorize.html"><a href="ch15_factorize.html#cognitive-3"><i class="fa fa-check"></i><b>15.6</b> cognitive</a></li>
<li class="chapter" data-level="15.7" data-path="ch15_factorize.html"><a href="ch15_factorize.html#across-tasks-pvc-is-the-slope-for-highvslow-cue-the-sametor-question"><i class="fa fa-check"></i><b>15.7</b> across tasks (PVC), is the slope for (highvslow cue) the same?Tor question</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="nps_contrast_notscaled.html"><a href="nps_contrast_notscaled.html"><i class="fa fa-check"></i><b>16</b> NPS_contrast_notscaled ~ cue * stim</a>
<ul>
<li class="chapter" data-level="16.1" data-path="nps_contrast_notscaled.html"><a href="nps_contrast_notscaled.html#overview-7"><i class="fa fa-check"></i><b>16.1</b> Overview</a></li>
<li class="chapter" data-level="16.2" data-path="nps_contrast_notscaled.html"><a href="nps_contrast_notscaled.html#regressors-and-contrasts"><i class="fa fa-check"></i><b>16.2</b> regressors and contrasts</a></li>
<li class="chapter" data-level="16.3" data-path="nps_contrast_notscaled.html"><a href="nps_contrast_notscaled.html#main-effect-stim-linear-high-low"><i class="fa fa-check"></i><b>16.3</b> main effect: stim-linear high &gt; low</a></li>
<li class="chapter" data-level="16.4" data-path="nps_contrast_notscaled.html"><a href="nps_contrast_notscaled.html#main_effect-stim-quadratic-med-highlow"><i class="fa fa-check"></i><b>16.4</b> main_effect: stim-quadratic med &gt; high&amp;low</a></li>
<li class="chapter" data-level="16.5" data-path="nps_contrast_notscaled.html"><a href="nps_contrast_notscaled.html#interaction-cue-x-stim-linear"><i class="fa fa-check"></i><b>16.5</b> interaction: cue X stim-linear</a></li>
<li class="chapter" data-level="16.6" data-path="nps_contrast_notscaled.html"><a href="nps_contrast_notscaled.html#interaction-cue-x-stim-quadratic"><i class="fa fa-check"></i><b>16.6</b> interaction: cue X stim-quadratic</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="nps_contrast.html"><a href="nps_contrast.html"><i class="fa fa-check"></i><b>17</b> NPS_contrast ~ cue * stim</a>
<ul>
<li class="chapter" data-level="17.1" data-path="nps_contrast.html"><a href="nps_contrast.html#overview-8"><i class="fa fa-check"></i><b>17.1</b> Overview</a></li>
<li class="chapter" data-level="17.2" data-path="nps_contrast.html"><a href="nps_contrast.html#regressors-and-contrasts-1"><i class="fa fa-check"></i><b>17.2</b> regressors and contrasts</a></li>
<li class="chapter" data-level="17.3" data-path="nps_contrast.html"><a href="nps_contrast.html#main-effect-stim-linear-high-low-1"><i class="fa fa-check"></i><b>17.3</b> main effect: stim-linear high &gt; low</a></li>
<li class="chapter" data-level="17.4" data-path="nps_contrast.html"><a href="nps_contrast.html#main_effect-stim-quadratic-med-highlow-1"><i class="fa fa-check"></i><b>17.4</b> main_effect: stim-quadratic med &gt; high&amp;low</a></li>
<li class="chapter" data-level="17.5" data-path="nps_contrast.html"><a href="nps_contrast.html#interaction-cue-x-stim-linear-1"><i class="fa fa-check"></i><b>17.5</b> interaction: cue X stim-linear</a></li>
<li class="chapter" data-level="17.6" data-path="nps_contrast.html"><a href="nps_contrast.html#interaction-cue-x-stim-quadratic-1"><i class="fa fa-check"></i><b>17.6</b> interaction: cue X stim-quadratic</a></li>
</ul></li>
<li class="chapter" data-level="18" data-path="nps_dummy_notscaled.html"><a href="nps_dummy_notscaled.html"><i class="fa fa-check"></i><b>18</b> nps_contrast ~ cue * stim (“error, contrast not scaled”)</a>
<ul>
<li class="chapter" data-level="18.1" data-path="nps_dummy_notscaled.html"><a href="nps_dummy_notscaled.html#overview-9"><i class="fa fa-check"></i><b>18.1</b> Overview</a></li>
<li class="chapter" data-level="18.2" data-path="nps_dummy_notscaled.html"><a href="nps_dummy_notscaled.html#contrast-plot"><i class="fa fa-check"></i><b>18.2</b> contrast plot</a></li>
</ul></li>
<li class="chapter" data-level="19" data-path="nps_dummy.html"><a href="nps_dummy.html"><i class="fa fa-check"></i><b>19</b> nps_contrast ~ cue * stim</a>
<ul>
<li class="chapter" data-level="19.1" data-path="nps_dummy.html"><a href="nps_dummy.html#overview-10"><i class="fa fa-check"></i><b>19.1</b> Overview</a></li>
<li class="chapter" data-level="19.2" data-path="nps_dummy.html"><a href="nps_dummy.html#for-loop-for-all-the-pvc-dummy-codes-1"><i class="fa fa-check"></i><b>19.2</b> For loop for all the pvc dummy codes</a></li>
</ul></li>
<li class="chapter" data-level="20" data-path="nps_stim.html"><a href="nps_stim.html"><i class="fa fa-check"></i><b>20</b> nps_dummy ~ stim</a>
<ul>
<li class="chapter" data-level="20.1" data-path="nps_stim.html"><a href="nps_stim.html#todo-2"><i class="fa fa-check"></i><b>20.1</b> TODO</a></li>
<li class="chapter" data-level="20.2" data-path="nps_stim.html"><a href="nps_stim.html#regressors-and-contrasts-2"><i class="fa fa-check"></i><b>20.2</b> regressors and contrasts</a></li>
<li class="chapter" data-level="20.3" data-path="nps_stim.html"><a href="nps_stim.html#functions-1"><i class="fa fa-check"></i><b>20.3</b> Functions</a></li>
<li class="chapter" data-level="20.4" data-path="nps_stim.html"><a href="nps_stim.html#pain-3"><i class="fa fa-check"></i><b>20.4</b> Pain</a></li>
<li class="chapter" data-level="20.5" data-path="nps_stim.html"><a href="nps_stim.html#vicarious-4"><i class="fa fa-check"></i><b>20.5</b> Vicarious</a></li>
<li class="chapter" data-level="20.6" data-path="nps_stim.html"><a href="nps_stim.html#cognitive-4"><i class="fa fa-check"></i><b>20.6</b> Cognitive</a></li>
</ul></li>
<li class="chapter" data-level="21" data-path="nps_22.html"><a href="nps_22.html"><i class="fa fa-check"></i><b>21</b> biomarker NPS ~ cue * stim (2022)</a>
<ul>
<li class="chapter" data-level="21.1" data-path="nps_22.html"><a href="nps_22.html#load-libraries"><i class="fa fa-check"></i><b>21.1</b> load libraries</a>
<ul>
<li class="chapter" data-level="21.1.1" data-path="nps_22.html"><a href="nps_22.html#nps-cue-effect"><i class="fa fa-check"></i><b>21.1.1</b> NPS cue effect</a></li>
</ul></li>
<li class="chapter" data-level="21.2" data-path="nps_22.html"><a href="nps_22.html#nps-stim-effect"><i class="fa fa-check"></i><b>21.2</b> NPS stim effect</a></li>
<li class="chapter" data-level="21.3" data-path="nps_22.html"><a href="nps_22.html#vps"><i class="fa fa-check"></i><b>21.3</b> VPS</a></li>
<li class="chapter" data-level="21.4" data-path="nps_22.html"><a href="nps_22.html#vps-cue-effect"><i class="fa fa-check"></i><b>21.4</b> VPS cue effect</a></li>
<li class="chapter" data-level="21.5" data-path="nps_22.html"><a href="nps_22.html#vps-stim-effect"><i class="fa fa-check"></i><b>21.5</b> VPS stim effect</a></li>
</ul></li>
<li class="chapter" data-level="22" data-path="nps_stim_error.html"><a href="nps_stim_error.html"><i class="fa fa-check"></i><b>22</b> NPSdummy ~ stim * task (contrast-notscaled-error)</a></li>
<li class="chapter" data-level="23" data-path="nps_stim_task.html"><a href="nps_stim_task.html"><i class="fa fa-check"></i><b>23</b> NPSdummy ~ stim * task (contrast-scaled)</a>
<ul>
<li class="chapter" data-level="23.1" data-path="nps_stim_task.html"><a href="nps_stim_task.html#raincloud-plots-1"><i class="fa fa-check"></i><b>23.1</b> Raincloud plots</a></li>
<li class="chapter" data-level="23.2" data-path="nps_stim_task.html"><a href="nps_stim_task.html#line-plots-1"><i class="fa fa-check"></i><b>23.2</b> Line plots</a></li>
</ul></li>
<li class="chapter" data-level="24" data-path="singletrial_signature.html"><a href="singletrial_signature.html"><i class="fa fa-check"></i><b>24</b> signature extraction ~ single trial</a></li>
<li class="chapter" data-level="25" data-path="singletrial_signature_effectsize.html"><a href="singletrial_signature_effectsize.html"><i class="fa fa-check"></i><b>25</b> signature effect size ~ single trial</a>
<ul>
<li class="chapter" data-level="25.1" data-path="singletrial_signature_effectsize.html"><a href="singletrial_signature_effectsize.html#effeect-size"><i class="fa fa-check"></i><b>25.1</b> effeect size</a></li>
<li class="chapter" data-level="25.2" data-path="singletrial_signature_effectsize.html"><a href="singletrial_signature_effectsize.html#contrastt-stim-intensity"><i class="fa fa-check"></i><b>25.2</b> contrastt (stim intensity)</a></li>
</ul></li>
<li class="chapter" data-level="26" data-path="ch40_vif.html"><a href="ch40_vif.html"><i class="fa fa-check"></i><b>26</b> VIF</a></li>
<li class="chapter" data-level="27" data-path="load-in-the-datamatrix-and-calculate-the-vif.html"><a href="load-in-the-datamatrix-and-calculate-the-vif.html"><i class="fa fa-check"></i><b>27</b> load in the datamatrix and calculate the vif</a></li>
<li class="chapter" data-level="28" data-path="vif.html"><a href="vif.html"><i class="fa fa-check"></i><b>28</b> vif</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">behavioral_ICC</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="ch12_n-1outcome" class="section level1 hasAnchor" number="12">
<h1><span class="header-section-number">Chapter 12</span> (N-2) shifted outcome ratings ~ (N) expectation ratings; Jayazeri (2018)<a href="ch12_n-1outcome.html#ch12_n-1outcome" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<pre><code>title: &quot;model12_jayazeri_N-2&quot;
date: &#39;2023-01-31&#39;
updated: &#39;2023-01-31&#39;</code></pre>
<div id="overview-3" class="section level2 hasAnchor" number="12.1">
<h2><span class="header-section-number">12.1</span> Overview<a href="ch12_n-1outcome.html#overview-3" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>My hypothesis is that the cue-expectancy follows a Bayesian mechanism, akin to what’s listed in Jayazeri (2019).
Here, I plot the expectation ratings (N) and outcome ratings (N-2) and see if the pattern is similar to a sigmoidal curve. If so, I plan to dive deeper and potentially take a Bayesian approach.</p>
<p>library</p>
<p>load data and combine participant data</p>
<div class="sourceCode" id="cb591"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb591-1"><a href="ch12_n-1outcome.html#cb591-1" aria-hidden="true" tabindex="-1"></a>main_dir <span class="ot">=</span> <span class="fu">dirname</span>(<span class="fu">dirname</span>(<span class="fu">getwd</span>()))</span>
<span id="cb591-2"><a href="ch12_n-1outcome.html#cb591-2" aria-hidden="true" tabindex="-1"></a>datadir <span class="ot">=</span> <span class="fu">file.path</span>(main_dir, <span class="st">&#39;data&#39;</span>, <span class="st">&#39;beh&#39;</span>, <span class="st">&#39;beh02_preproc&#39;</span>)</span>
<span id="cb591-3"><a href="ch12_n-1outcome.html#cb591-3" aria-hidden="true" tabindex="-1"></a><span class="co"># parameters _____________________________________ # nolint</span></span>
<span id="cb591-4"><a href="ch12_n-1outcome.html#cb591-4" aria-hidden="true" tabindex="-1"></a>subject_varkey <span class="ot">&lt;-</span> <span class="st">&quot;src_subject_id&quot;</span></span>
<span id="cb591-5"><a href="ch12_n-1outcome.html#cb591-5" aria-hidden="true" tabindex="-1"></a>iv <span class="ot">&lt;-</span> <span class="st">&quot;param_cue_type&quot;</span></span>
<span id="cb591-6"><a href="ch12_n-1outcome.html#cb591-6" aria-hidden="true" tabindex="-1"></a>dv <span class="ot">&lt;-</span> <span class="st">&quot;event03_RT&quot;</span></span>
<span id="cb591-7"><a href="ch12_n-1outcome.html#cb591-7" aria-hidden="true" tabindex="-1"></a>dv_keyword <span class="ot">&lt;-</span> <span class="st">&quot;RT&quot;</span></span>
<span id="cb591-8"><a href="ch12_n-1outcome.html#cb591-8" aria-hidden="true" tabindex="-1"></a>xlab <span class="ot">&lt;-</span> <span class="st">&quot;&quot;</span></span>
<span id="cb591-9"><a href="ch12_n-1outcome.html#cb591-9" aria-hidden="true" tabindex="-1"></a>taskname <span class="ot">&lt;-</span> <span class="st">&quot;pain&quot;</span></span>
<span id="cb591-10"><a href="ch12_n-1outcome.html#cb591-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb591-11"><a href="ch12_n-1outcome.html#cb591-11" aria-hidden="true" tabindex="-1"></a>ylab <span class="ot">&lt;-</span> <span class="st">&quot;ratings (degree)&quot;</span></span>
<span id="cb591-12"><a href="ch12_n-1outcome.html#cb591-12" aria-hidden="true" tabindex="-1"></a>subject <span class="ot">&lt;-</span> <span class="st">&quot;subject&quot;</span></span>
<span id="cb591-13"><a href="ch12_n-1outcome.html#cb591-13" aria-hidden="true" tabindex="-1"></a>exclude <span class="ot">&lt;-</span> <span class="st">&quot;sub-0999|sub-0001|sub-0002|sub-0003|sub-0004|sub-0005|sub-0006|sub-0007|sub-0008|sub-0009|sub-0010|sub-0011&quot;</span></span>
<span id="cb591-14"><a href="ch12_n-1outcome.html#cb591-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb591-15"><a href="ch12_n-1outcome.html#cb591-15" aria-hidden="true" tabindex="-1"></a><span class="co"># load data _____________________________________</span></span>
<span id="cb591-16"><a href="ch12_n-1outcome.html#cb591-16" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">load_task_social_df</span>(datadir, <span class="at">taskname =</span> taskname, <span class="at">subject_varkey =</span> subject_varkey, <span class="at">iv =</span> iv, <span class="at">exclude =</span> exclude)</span>
<span id="cb591-17"><a href="ch12_n-1outcome.html#cb591-17" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>event03_RT <span class="ot">&lt;-</span> data<span class="sc">$</span>event03_stimulusC_reseponseonset <span class="sc">-</span> data<span class="sc">$</span>event03_stimulus_displayonset</span>
<span id="cb591-18"><a href="ch12_n-1outcome.html#cb591-18" aria-hidden="true" tabindex="-1"></a><span class="co"># data[&#39;event03_RT&#39;], data.event03_RT - pandas</span></span>
<span id="cb591-19"><a href="ch12_n-1outcome.html#cb591-19" aria-hidden="true" tabindex="-1"></a>analysis_dir <span class="ot">&lt;-</span> <span class="fu">file.path</span>(main_dir, <span class="st">&quot;analysis&quot;</span>, <span class="st">&quot;mixedeffect&quot;</span>, <span class="st">&quot;model12_iv-cue-trial_dv-expectjayazer_N-2&quot;</span>, <span class="fu">as.character</span>(<span class="fu">Sys.Date</span>()))</span>
<span id="cb591-20"><a href="ch12_n-1outcome.html#cb591-20" aria-hidden="true" tabindex="-1"></a><span class="fu">dir.create</span>(analysis_dir, <span class="at">showWarnings =</span> <span class="cn">FALSE</span>, <span class="at">recursive =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
</div>
<div id="do-previous-outcome-ratings-predict-current-expectation-ratings-1" class="section level2 hasAnchor" number="12.2">
<h2><span class="header-section-number">12.2</span> Do previous outcome ratings predict current expectation ratings?<a href="ch12_n-1outcome.html#do-previous-outcome-ratings-predict-current-expectation-ratings-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="additional-analyse-01182023-2" class="section level3 unlisted unnumbered hasAnchor">
<h3>Additional analyse 01/18/2023<a href="ch12_n-1outcome.html#additional-analyse-01182023-2" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li>examine if prior stimulus experience (N-2) predicts current expectation ratings</li>
<li>see if current expectation ratings are explained as a function of prior outcome rating and current expectation rating</li>
</ul>
<p>when loading the dataset, I need to add in trial index per dataframe.
Then, for the shift the rating?</p>
<div class="sourceCode" id="cb592"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb592-1"><a href="ch12_n-1outcome.html#cb592-1" aria-hidden="true" tabindex="-1"></a>data_p2<span class="ot">=</span> data <span class="sc">%&gt;%</span></span>
<span id="cb592-2"><a href="ch12_n-1outcome.html#cb592-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(src_subject_id ) <span class="sc">%&gt;%</span></span>
<span id="cb592-3"><a href="ch12_n-1outcome.html#cb592-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(src_subject_id) <span class="sc">%&gt;%</span></span>
<span id="cb592-4"><a href="ch12_n-1outcome.html#cb592-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">trial_index =</span> <span class="fu">row_number</span>())</span>
<span id="cb592-5"><a href="ch12_n-1outcome.html#cb592-5" aria-hidden="true" tabindex="-1"></a>data_a3 <span class="ot">&lt;-</span> data_p2 <span class="sc">%&gt;%</span> </span>
<span id="cb592-6"><a href="ch12_n-1outcome.html#cb592-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(src_subject_id, session_id, param_run_num) <span class="sc">%&gt;%</span> </span>
<span id="cb592-7"><a href="ch12_n-1outcome.html#cb592-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">trial_index =</span> <span class="fu">row_number</span>(param_run_num))</span>
<span id="cb592-8"><a href="ch12_n-1outcome.html#cb592-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb592-9"><a href="ch12_n-1outcome.html#cb592-9" aria-hidden="true" tabindex="-1"></a>data_a3lag <span class="ot">&lt;-</span> </span>
<span id="cb592-10"><a href="ch12_n-1outcome.html#cb592-10" aria-hidden="true" tabindex="-1"></a>    data_a3 <span class="sc">%&gt;%</span></span>
<span id="cb592-11"><a href="ch12_n-1outcome.html#cb592-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(src_subject_id, session_id, param_run_num) <span class="sc">%&gt;%</span></span>
<span id="cb592-12"><a href="ch12_n-1outcome.html#cb592-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">lag.04outcomeangle =</span> dplyr<span class="sc">::</span><span class="fu">lag</span>(event04_actual_angle, <span class="at">n =</span> <span class="dv">2</span>, <span class="at">default =</span> <span class="cn">NA</span>))</span>
<span id="cb592-13"><a href="ch12_n-1outcome.html#cb592-13" aria-hidden="true" tabindex="-1"></a>data_a3lag_omit <span class="ot">&lt;-</span> data_a3lag[<span class="fu">complete.cases</span>(data_a3lag<span class="sc">$</span>lag<span class="fl">.04</span>outcomeangle),]</span></code></pre></div>
<div class="sourceCode" id="cb593"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb593-1"><a href="ch12_n-1outcome.html#cb593-1" aria-hidden="true" tabindex="-1"></a>    trialorder_subjectwise_lagoutcome <span class="ot">&lt;-</span> <span class="fu">meanSummary</span>(</span>
<span id="cb593-2"><a href="ch12_n-1outcome.html#cb593-2" aria-hidden="true" tabindex="-1"></a>        data_a3lag_omit,</span>
<span id="cb593-3"><a href="ch12_n-1outcome.html#cb593-3" aria-hidden="true" tabindex="-1"></a>        <span class="fu">c</span>(<span class="st">&quot;src_subject_id&quot;</span>, <span class="st">&quot;session_id&quot;</span>, <span class="st">&quot;param_run_num&quot;</span>), <span class="st">&quot;lag.04outcomeangle&quot;</span> )</span>
<span id="cb593-4"><a href="ch12_n-1outcome.html#cb593-4" aria-hidden="true" tabindex="-1"></a>    trialorder_subjectwise_lagoutcome <span class="ot">&lt;-</span> <span class="fu">meanSummary</span>(</span>
<span id="cb593-5"><a href="ch12_n-1outcome.html#cb593-5" aria-hidden="true" tabindex="-1"></a>        data_a3lag_omit,</span>
<span id="cb593-6"><a href="ch12_n-1outcome.html#cb593-6" aria-hidden="true" tabindex="-1"></a>        <span class="fu">c</span>(<span class="st">&quot;src_subject_id&quot;</span>, <span class="st">&quot;session_id&quot;</span>, <span class="st">&quot;param_run_num&quot;</span>), <span class="st">&quot;lag.04outcomeangle&quot;</span> )</span></code></pre></div>
<div class="sourceCode" id="cb594"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb594-1"><a href="ch12_n-1outcome.html#cb594-1" aria-hidden="true" tabindex="-1"></a>model.lagoutcome <span class="ot">=</span> <span class="fu">lmer</span>(event02_expect_angle <span class="sc">~</span> lag<span class="fl">.04</span>outcomeangle <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">|</span> src_subject_id) <span class="sc">+</span> (<span class="dv">1</span><span class="sc">|</span>session_id) , <span class="at">data =</span> data_a3lag_omit)</span></code></pre></div>
<pre><code>## boundary (singular) fit: see help(&#39;isSingular&#39;)</code></pre>
<div class="sourceCode" id="cb596"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb596-1"><a href="ch12_n-1outcome.html#cb596-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(model.lagoutcome)</span></code></pre></div>
<pre><code>## Linear mixed model fit by REML. t-tests use Satterthwaite&#39;s method [
## lmerModLmerTest]
## Formula: event02_expect_angle ~ lag.04outcomeangle + (1 | src_subject_id) +  
##     (1 | session_id)
##    Data: data_a3lag_omit
## 
## REML criterion at convergence: 41892
## 
## Scaled residuals: 
##     Min      1Q  Median      3Q     Max 
## -4.7836 -0.6742  0.0243  0.6639  3.4522 
## 
## Random effects:
##  Groups         Name        Variance Std.Dev.
##  src_subject_id (Intercept) 522.8    22.86   
##  session_id     (Intercept)   0.0     0.00   
##  Residual                   770.0    27.75   
## Number of obs: 4381, groups:  src_subject_id, 104; session_id, 3
## 
## Fixed effects:
##                     Estimate Std. Error        df t value Pr(&gt;|t|)    
## (Intercept)        4.753e+01  2.548e+00 1.436e+02   18.66   &lt;2e-16 ***
## lag.04outcomeangle 2.343e-01  1.675e-02 4.294e+03   13.98   &lt;2e-16 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Correlation of Fixed Effects:
##             (Intr)
## lg.04tcmngl -0.433
## optimizer (nloptwrap) convergence code: 0 (OK)
## boundary (singular) fit: see help(&#39;isSingular&#39;)</code></pre>
<div class="sourceCode" id="cb598"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb598-1"><a href="ch12_n-1outcome.html#cb598-1" aria-hidden="true" tabindex="-1"></a>meanSummary_2dv <span class="ot">&lt;-</span> <span class="cf">function</span>(DATA, GROUP, DV1, DV2) {</span>
<span id="cb598-2"><a href="ch12_n-1outcome.html#cb598-2" aria-hidden="true" tabindex="-1"></a>    z <span class="ot">&lt;-</span> <span class="fu">ddply</span>(DATA, GROUP, <span class="at">.fun =</span> <span class="cf">function</span>(xx) {</span>
<span id="cb598-3"><a href="ch12_n-1outcome.html#cb598-3" aria-hidden="true" tabindex="-1"></a>        <span class="fu">c</span>(</span>
<span id="cb598-4"><a href="ch12_n-1outcome.html#cb598-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">DV1_mean_per_sub =</span> <span class="fu">mean</span>(xx[, DV1], <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb598-5"><a href="ch12_n-1outcome.html#cb598-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">DV1_sd =</span> <span class="fu">sd</span>(xx[, DV1], <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb598-6"><a href="ch12_n-1outcome.html#cb598-6" aria-hidden="true" tabindex="-1"></a>            <span class="at">DV2_mean_per_sub =</span> <span class="fu">mean</span>(xx[, DV2], <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb598-7"><a href="ch12_n-1outcome.html#cb598-7" aria-hidden="true" tabindex="-1"></a>            <span class="at">DV2_sd =</span> <span class="fu">sd</span>(xx[, DV1], <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb598-8"><a href="ch12_n-1outcome.html#cb598-8" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb598-9"><a href="ch12_n-1outcome.html#cb598-9" aria-hidden="true" tabindex="-1"></a>    })</span>
<span id="cb598-10"><a href="ch12_n-1outcome.html#cb598-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(z)</span>
<span id="cb598-11"><a href="ch12_n-1outcome.html#cb598-11" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<div class="sourceCode" id="cb599"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb599-1"><a href="ch12_n-1outcome.html#cb599-1" aria-hidden="true" tabindex="-1"></a>subjectwise_2dv <span class="ot">=</span> <span class="fu">meanSummary_2dv</span>(data_a3lag_omit,</span>
<span id="cb599-2"><a href="ch12_n-1outcome.html#cb599-2" aria-hidden="true" tabindex="-1"></a>        <span class="fu">c</span>(<span class="st">&quot;src_subject_id&quot;</span>, <span class="st">&quot;trial_index&quot;</span>), </span>
<span id="cb599-3"><a href="ch12_n-1outcome.html#cb599-3" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;lag.04outcomeangle&quot;</span>, <span class="st">&quot;event02_expect_angle&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb600"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb600-1"><a href="ch12_n-1outcome.html#cb600-1" aria-hidden="true" tabindex="-1"></a>subjectwise_naomit_2dv <span class="ot">&lt;-</span> <span class="fu">na.omit</span>(subjectwise_2dv)</span></code></pre></div>
<div class="sourceCode" id="cb601"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb601-1"><a href="ch12_n-1outcome.html#cb601-1" aria-hidden="true" tabindex="-1"></a>sp <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data=</span>subjectwise_naomit_2dv, </span>
<span id="cb601-2"><a href="ch12_n-1outcome.html#cb601-2" aria-hidden="true" tabindex="-1"></a>             <span class="fu">aes</span>(<span class="at">x=</span>DV1_mean_per_sub, <span class="at">y=</span>DV2_mean_per_sub)) <span class="sc">+</span> </span>
<span id="cb601-3"><a href="ch12_n-1outcome.html#cb601-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb601-4"><a href="ch12_n-1outcome.html#cb601-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_abline</span>(<span class="at">intercept =</span> <span class="dv">0</span>, <span class="at">slope =</span> <span class="dv">1</span>, <span class="at">color=</span><span class="st">&quot;green&quot;</span>, </span>
<span id="cb601-5"><a href="ch12_n-1outcome.html#cb601-5" aria-hidden="true" tabindex="-1"></a>                 <span class="at">linetype=</span><span class="st">&quot;dashed&quot;</span>, <span class="at">size=</span><span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb601-6"><a href="ch12_n-1outcome.html#cb601-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">aspect.ratio=</span><span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb601-7"><a href="ch12_n-1outcome.html#cb601-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;n-2 outcome rating&quot;</span>) <span class="sc">+</span></span>
<span id="cb601-8"><a href="ch12_n-1outcome.html#cb601-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;n expectation rating&quot;</span>)</span></code></pre></div>
<pre><code>## Warning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0.
## ℹ Please use `linewidth` instead.</code></pre>
<div class="sourceCode" id="cb603"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb603-1"><a href="ch12_n-1outcome.html#cb603-1" aria-hidden="true" tabindex="-1"></a>sp</span></code></pre></div>
<p><img src="12_iv-cue-trial_dv-expectjayazeri_N-2_files/figure-html/unnamed-chunk-7-1.png" width="672" /></p>
<div class="sourceCode" id="cb604"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb604-1"><a href="ch12_n-1outcome.html#cb604-1" aria-hidden="true" tabindex="-1"></a>    trialorder_groupwise <span class="ot">&lt;-</span> <span class="fu">summarySEwithin</span>(</span>
<span id="cb604-2"><a href="ch12_n-1outcome.html#cb604-2" aria-hidden="true" tabindex="-1"></a>        <span class="at">data =</span> subjectwise_naomit_2dv,</span>
<span id="cb604-3"><a href="ch12_n-1outcome.html#cb604-3" aria-hidden="true" tabindex="-1"></a>        <span class="at">measurevar =</span> <span class="st">&quot;DV1_mean_per_sub&quot;</span>,</span>
<span id="cb604-4"><a href="ch12_n-1outcome.html#cb604-4" aria-hidden="true" tabindex="-1"></a>        <span class="co"># betweenvars = &quot;src_subject_id&quot;,</span></span>
<span id="cb604-5"><a href="ch12_n-1outcome.html#cb604-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">withinvars =</span> <span class="fu">factor</span>( <span class="st">&quot;trial_index&quot;</span>),</span>
<span id="cb604-6"><a href="ch12_n-1outcome.html#cb604-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">idvar =</span> <span class="st">&quot;src_subject_id&quot;</span></span>
<span id="cb604-7"><a href="ch12_n-1outcome.html#cb604-7" aria-hidden="true" tabindex="-1"></a>    )</span></code></pre></div>
<pre><code>## Automatically converting the following non-factors to factors: src_subject_id</code></pre>
<div class="sourceCode" id="cb606"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb606-1"><a href="ch12_n-1outcome.html#cb606-1" aria-hidden="true" tabindex="-1"></a>    trialorder_groupwise <span class="ot">&lt;-</span> <span class="fu">summarySEwithin</span>(</span>
<span id="cb606-2"><a href="ch12_n-1outcome.html#cb606-2" aria-hidden="true" tabindex="-1"></a>        <span class="at">data =</span> <span class="fu">subset</span>(subjectwise_naomit_2dv, <span class="at">select =</span> <span class="sc">-</span><span class="fu">c</span>(src_subject_id)),</span>
<span id="cb606-3"><a href="ch12_n-1outcome.html#cb606-3" aria-hidden="true" tabindex="-1"></a>        <span class="at">measurevar =</span> <span class="st">&quot;DV1_mean_per_sub&quot;</span>,</span>
<span id="cb606-4"><a href="ch12_n-1outcome.html#cb606-4" aria-hidden="true" tabindex="-1"></a>        <span class="co"># betweenvars = &quot;src_subject_id&quot;,</span></span>
<span id="cb606-5"><a href="ch12_n-1outcome.html#cb606-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">withinvars =</span> <span class="fu">as.factor</span>( <span class="st">&quot;trial_index&quot;</span>)</span>
<span id="cb606-6"><a href="ch12_n-1outcome.html#cb606-6" aria-hidden="true" tabindex="-1"></a>         <span class="co">#idvar = &quot;trial_index&quot;</span></span>
<span id="cb606-7"><a href="ch12_n-1outcome.html#cb606-7" aria-hidden="true" tabindex="-1"></a>    )</span></code></pre></div>
<pre><code>## Automatically converting the following non-factors to factors: trial_index</code></pre>
<pre><code>## Warning in qt(conf.interval/2 + 0.5, datac$N - 1): NaNs produced

## Warning in qt(conf.interval/2 + 0.5, datac$N - 1): NaNs produced</code></pre>
<div class="sourceCode" id="cb609"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb609-1"><a href="ch12_n-1outcome.html#cb609-1" aria-hidden="true" tabindex="-1"></a>data_a3lag_omit<span class="sc">$</span>src_subject_id <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(data_a3lag_omit<span class="sc">$</span>src_subject_id)</span>
<span id="cb609-2"><a href="ch12_n-1outcome.html#cb609-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb609-3"><a href="ch12_n-1outcome.html#cb609-3" aria-hidden="true" tabindex="-1"></a>lag.raw <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>lag<span class="fl">.04</span>outcomeangle, <span class="at">y=</span>event02_expect_angle), <span class="at">data=</span>data_a3lag_omit) <span class="sc">+</span></span>
<span id="cb609-4"><a href="ch12_n-1outcome.html#cb609-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method=</span><span class="st">&#39;lm&#39;</span>, <span class="at">se=</span>F, <span class="at">size=</span><span class="fl">0.75</span>) <span class="sc">+</span></span>
<span id="cb609-5"><a href="ch12_n-1outcome.html#cb609-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size=</span><span class="fl">0.1</span>) <span class="sc">+</span> </span>
<span id="cb609-6"><a href="ch12_n-1outcome.html#cb609-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_abline</span>(<span class="at">intercept =</span> <span class="dv">0</span>, <span class="at">slope =</span> <span class="dv">1</span>, <span class="at">color=</span><span class="st">&quot;green&quot;</span>, </span>
<span id="cb609-7"><a href="ch12_n-1outcome.html#cb609-7" aria-hidden="true" tabindex="-1"></a>                 <span class="at">linetype=</span><span class="st">&quot;dashed&quot;</span>, <span class="at">size=</span><span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb609-8"><a href="ch12_n-1outcome.html#cb609-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>src_subject_id) <span class="sc">+</span> </span>
<span id="cb609-9"><a href="ch12_n-1outcome.html#cb609-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position=</span><span class="st">&#39;none&#39;</span>) <span class="sc">+</span> </span>
<span id="cb609-10"><a href="ch12_n-1outcome.html#cb609-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlim</span>(<span class="dv">0</span>,<span class="dv">180</span>) <span class="sc">+</span> <span class="fu">ylim</span>(<span class="dv">0</span>,<span class="dv">180</span>) <span class="sc">+</span></span>
<span id="cb609-11"><a href="ch12_n-1outcome.html#cb609-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;raw data from each participant: n-2 lagged outcome angle&quot;</span>) <span class="sc">+</span> </span>
<span id="cb609-12"><a href="ch12_n-1outcome.html#cb609-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;n current expectation rating&quot;</span>)</span>
<span id="cb609-13"><a href="ch12_n-1outcome.html#cb609-13" aria-hidden="true" tabindex="-1"></a>lag.raw <span class="sc">+</span></span>
<span id="cb609-14"><a href="ch12_n-1outcome.html#cb609-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="fu">paste</span>(taskname, <span class="st">&quot;- Is there a linear relationship between current expectation ratings and the previous outcome ratings?&quot;</span>),</span>
<span id="cb609-15"><a href="ch12_n-1outcome.html#cb609-15" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">&quot;Plotting the raw data - with all of the datapoints ignoring run differences&quot;</span>, </span>
<span id="cb609-16"><a href="ch12_n-1outcome.html#cb609-16" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> <span class="st">&quot;Blue = fitted linear slope per participant; Green: 1:1 slope&quot;</span>)</span></code></pre></div>
<pre><code>## `geom_smooth()` using formula = &#39;y ~ x&#39;</code></pre>
<pre><code>## Warning: Removed 202 rows containing non-finite values (`stat_smooth()`).</code></pre>
<pre><code>## Warning: Removed 202 rows containing missing values (`geom_point()`).</code></pre>
<p><img src="12_iv-cue-trial_dv-expectjayazeri_N-2_files/figure-html/unnamed-chunk-10-1.png" width="672" /></p>
<div class="sourceCode" id="cb613"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb613-1"><a href="ch12_n-1outcome.html#cb613-1" aria-hidden="true" tabindex="-1"></a>lag.raw</span></code></pre></div>
<pre><code>## `geom_smooth()` using formula = &#39;y ~ x&#39;</code></pre>
<pre><code>## Warning: Removed 202 rows containing non-finite values (`stat_smooth()`).
## Removed 202 rows containing missing values (`geom_point()`).</code></pre>
<p><img src="12_iv-cue-trial_dv-expectjayazeri_N-2_files/figure-html/unnamed-chunk-10-2.png" width="672" /></p>
<div class="sourceCode" id="cb616"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb616-1"><a href="ch12_n-1outcome.html#cb616-1" aria-hidden="true" tabindex="-1"></a>subjectwise_naomit_2dv<span class="sc">$</span>src_subject_id <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(subjectwise_naomit_2dv<span class="sc">$</span>src_subject_id)</span>
<span id="cb616-2"><a href="ch12_n-1outcome.html#cb616-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb616-3"><a href="ch12_n-1outcome.html#cb616-3" aria-hidden="true" tabindex="-1"></a>lag.avg <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>DV1_mean_per_sub, <span class="at">y=</span>DV2_mean_per_sub), <span class="at">data=</span>subjectwise_naomit_2dv) <span class="sc">+</span></span>
<span id="cb616-4"><a href="ch12_n-1outcome.html#cb616-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method=</span><span class="st">&#39;lm&#39;</span>, <span class="at">se=</span>F, <span class="at">size=</span><span class="fl">0.75</span>) <span class="sc">+</span></span>
<span id="cb616-5"><a href="ch12_n-1outcome.html#cb616-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size=</span><span class="fl">0.1</span>) <span class="sc">+</span> </span>
<span id="cb616-6"><a href="ch12_n-1outcome.html#cb616-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_abline</span>(<span class="at">intercept =</span> <span class="dv">0</span>, <span class="at">slope =</span> <span class="dv">1</span>, <span class="at">color=</span><span class="st">&quot;green&quot;</span>, </span>
<span id="cb616-7"><a href="ch12_n-1outcome.html#cb616-7" aria-hidden="true" tabindex="-1"></a>                 <span class="at">linetype=</span><span class="st">&quot;dashed&quot;</span>, <span class="at">size=</span><span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb616-8"><a href="ch12_n-1outcome.html#cb616-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>src_subject_id) <span class="sc">+</span> </span>
<span id="cb616-9"><a href="ch12_n-1outcome.html#cb616-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position=</span><span class="st">&#39;none&#39;</span>) <span class="sc">+</span> </span>
<span id="cb616-10"><a href="ch12_n-1outcome.html#cb616-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlim</span>(<span class="dv">0</span>,<span class="dv">180</span>) <span class="sc">+</span> <span class="fu">ylim</span>(<span class="dv">0</span>,<span class="dv">180</span>) <span class="sc">+</span></span>
<span id="cb616-11"><a href="ch12_n-1outcome.html#cb616-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;raw data from each participant: n-2 lagged outcome angle&quot;</span>) <span class="sc">+</span> </span>
<span id="cb616-12"><a href="ch12_n-1outcome.html#cb616-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;n current expectation rating&quot;</span>) </span>
<span id="cb616-13"><a href="ch12_n-1outcome.html#cb616-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb616-14"><a href="ch12_n-1outcome.html#cb616-14" aria-hidden="true" tabindex="-1"></a>lag.avg <span class="sc">+</span></span>
<span id="cb616-15"><a href="ch12_n-1outcome.html#cb616-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="fu">paste</span>(taskname, <span class="st">&quot;- Is there a linear relationship between current expectation ratings and the previous outcome ratings?&quot;</span>),</span>
<span id="cb616-16"><a href="ch12_n-1outcome.html#cb616-16" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">&quot;Observation notes: 1) The relationship is more of an attenuated one, where the higher outcome ratings lead to a slightly lower expectation rating, and a low outcome leads to a higher expectation rating, when considering a 1:1 relationship. This pattern could be explained by regression to the mean type mechanism, where participants are accounting for the fact that their previous experience was extreme on either ends and that this current trial will be under/over estimated. It probably will make sense to also see the relationship between current expectation ratings influencing current outcome ratings. &quot;</span>, </span>
<span id="cb616-17"><a href="ch12_n-1outcome.html#cb616-17" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> <span class="st">&quot;Blue = fitted linear slope per participant; Green: 1:1 slope&quot;</span>)</span></code></pre></div>
<pre><code>## `geom_smooth()` using formula = &#39;y ~ x&#39;</code></pre>
<p><img src="12_iv-cue-trial_dv-expectjayazeri_N-2_files/figure-html/unnamed-chunk-11-1.png" width="672" /></p>
<div class="sourceCode" id="cb618"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb618-1"><a href="ch12_n-1outcome.html#cb618-1" aria-hidden="true" tabindex="-1"></a><span class="co"># https://gist.github.com/even4void/5074855</span></span></code></pre></div>
<div class="sourceCode" id="cb619"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb619-1"><a href="ch12_n-1outcome.html#cb619-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data_a3lag_omit, <span class="fu">aes</span>(<span class="at">y =</span> event02_expect_angle, </span>
<span id="cb619-2"><a href="ch12_n-1outcome.html#cb619-2" aria-hidden="true" tabindex="-1"></a>                       <span class="at">x =</span> lag<span class="fl">.04</span>outcomeangle, </span>
<span id="cb619-3"><a href="ch12_n-1outcome.html#cb619-3" aria-hidden="true" tabindex="-1"></a>                       <span class="at">colour =</span> subject), <span class="at">size =</span> .<span class="dv">3</span>, <span class="at">color =</span> <span class="st">&#39;gray&#39;</span>) <span class="sc">+</span> </span>
<span id="cb619-4"><a href="ch12_n-1outcome.html#cb619-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> .<span class="dv">1</span>) <span class="sc">+</span> </span>
<span id="cb619-5"><a href="ch12_n-1outcome.html#cb619-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">&#39;lm&#39;</span>, <span class="at">formula=</span> y <span class="sc">~</span> x, <span class="at">se =</span> <span class="cn">FALSE</span>, <span class="at">size =</span> .<span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb619-6"><a href="ch12_n-1outcome.html#cb619-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>()</span></code></pre></div>
<pre><code>## Warning: Removed 202 rows containing non-finite values (`stat_smooth()`).</code></pre>
<pre><code>## Warning: Removed 202 rows containing missing values (`geom_point()`).</code></pre>
<p><img src="12_iv-cue-trial_dv-expectjayazeri_N-2_files/figure-html/unnamed-chunk-13-1.png" width="672" /></p>
</div>
</div>
<div id="do-these-models-differ-as-a-function-of-cue" class="section level2 hasAnchor" number="12.3">
<h2><span class="header-section-number">12.3</span> Do these models differ as a function of cue?<a href="ch12_n-1outcome.html#do-these-models-differ-as-a-function-of-cue" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="additional-analysis-01232023" class="section level3 unlisted unnumbered hasAnchor">
<h3>Additional analysis 01/23/2023<a href="ch12_n-1outcome.html#additional-analysis-01232023" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb622"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb622-1"><a href="ch12_n-1outcome.html#cb622-1" aria-hidden="true" tabindex="-1"></a>model.lag_cue <span class="ot">=</span> <span class="fu">lmer</span>(event02_expect_angle <span class="sc">~</span> lag<span class="fl">.04</span>outcomeangle<span class="sc">*</span>param_cue_type <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">|</span> src_subject_id) <span class="sc">+</span> (<span class="dv">1</span><span class="sc">|</span>session_id) , <span class="at">data =</span> data_a3lag_omit)</span></code></pre></div>
<pre><code>## boundary (singular) fit: see help(&#39;isSingular&#39;)</code></pre>
<div class="sourceCode" id="cb624"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb624-1"><a href="ch12_n-1outcome.html#cb624-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(model.lag_cue)</span></code></pre></div>
<pre><code>## Linear mixed model fit by REML. t-tests use Satterthwaite&#39;s method [
## lmerModLmerTest]
## Formula: event02_expect_angle ~ lag.04outcomeangle * param_cue_type +  
##     (1 | src_subject_id) + (1 | session_id)
##    Data: data_a3lag_omit
## 
## REML criterion at convergence: 39852.4
## 
## Scaled residuals: 
##     Min      1Q  Median      3Q     Max 
## -5.2141 -0.6403 -0.0326  0.6247  4.6722 
## 
## Random effects:
##  Groups         Name        Variance Std.Dev.
##  src_subject_id (Intercept) 540.1    23.24   
##  session_id     (Intercept)   0.0     0.00   
##  Residual                   477.4    21.85   
## Number of obs: 4381, groups:  src_subject_id, 104; session_id, 3
## 
## Fixed effects:
##                                            Estimate Std. Error         df
## (Intercept)                               6.478e+01  2.572e+00  1.495e+02
## lag.04outcomeangle                        2.255e-01  1.631e-02  4.374e+03
## param_cue_typelow_cue                    -3.367e+01  1.346e+00  4.274e+03
## lag.04outcomeangle:param_cue_typelow_cue -3.175e-03  1.771e-02  4.274e+03
##                                          t value Pr(&gt;|t|)    
## (Intercept)                               25.186   &lt;2e-16 ***
## lag.04outcomeangle                        13.831   &lt;2e-16 ***
## param_cue_typelow_cue                    -25.025   &lt;2e-16 ***
## lag.04outcomeangle:param_cue_typelow_cue  -0.179    0.858    
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Correlation of Fixed Effects:
##             (Intr) lg.04t prm___
## lg.04tcmngl -0.418              
## prm_c_typl_ -0.273  0.503       
## lg.04tc:___  0.243 -0.578 -0.871
## optimizer (nloptwrap) convergence code: 0 (OK)
## boundary (singular) fit: see help(&#39;isSingular&#39;)</code></pre>
<div class="sourceCode" id="cb626"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb626-1"><a href="ch12_n-1outcome.html#cb626-1" aria-hidden="true" tabindex="-1"></a>meanSummary_2dv <span class="ot">&lt;-</span> <span class="cf">function</span>(DATA, GROUP, DV1, DV2) {</span>
<span id="cb626-2"><a href="ch12_n-1outcome.html#cb626-2" aria-hidden="true" tabindex="-1"></a>    z <span class="ot">&lt;-</span> <span class="fu">ddply</span>(DATA, GROUP, <span class="at">.fun =</span> <span class="cf">function</span>(xx) {</span>
<span id="cb626-3"><a href="ch12_n-1outcome.html#cb626-3" aria-hidden="true" tabindex="-1"></a>        <span class="fu">c</span>(</span>
<span id="cb626-4"><a href="ch12_n-1outcome.html#cb626-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">DV1_mean_per_sub =</span> <span class="fu">mean</span>(xx[, DV1], <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb626-5"><a href="ch12_n-1outcome.html#cb626-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">DV1_sd =</span> <span class="fu">sd</span>(xx[, DV1], <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb626-6"><a href="ch12_n-1outcome.html#cb626-6" aria-hidden="true" tabindex="-1"></a>            <span class="at">DV2_mean_per_sub =</span> <span class="fu">mean</span>(xx[, DV2], <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb626-7"><a href="ch12_n-1outcome.html#cb626-7" aria-hidden="true" tabindex="-1"></a>            <span class="at">DV2_sd =</span> <span class="fu">sd</span>(xx[, DV1], <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb626-8"><a href="ch12_n-1outcome.html#cb626-8" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb626-9"><a href="ch12_n-1outcome.html#cb626-9" aria-hidden="true" tabindex="-1"></a>    })</span>
<span id="cb626-10"><a href="ch12_n-1outcome.html#cb626-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(z)</span>
<span id="cb626-11"><a href="ch12_n-1outcome.html#cb626-11" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<div class="sourceCode" id="cb627"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb627-1"><a href="ch12_n-1outcome.html#cb627-1" aria-hidden="true" tabindex="-1"></a>subjectwise_cuetype <span class="ot">=</span> <span class="fu">meanSummary_2dv</span>(data_a3lag_omit,</span>
<span id="cb627-2"><a href="ch12_n-1outcome.html#cb627-2" aria-hidden="true" tabindex="-1"></a>        <span class="fu">c</span>(<span class="st">&quot;src_subject_id&quot;</span>, <span class="st">&quot;trial_index&quot;</span>, <span class="st">&quot;param_cue_type&quot;</span>), </span>
<span id="cb627-3"><a href="ch12_n-1outcome.html#cb627-3" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;lag.04outcomeangle&quot;</span>, <span class="st">&quot;event02_expect_angle&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb628"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb628-1"><a href="ch12_n-1outcome.html#cb628-1" aria-hidden="true" tabindex="-1"></a>subjectwise_cuetype_2dv <span class="ot">&lt;-</span> <span class="fu">na.omit</span>(subjectwise_cuetype)</span></code></pre></div>
<div class="sourceCode" id="cb629"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb629-1"><a href="ch12_n-1outcome.html#cb629-1" aria-hidden="true" tabindex="-1"></a>subjectwise_cuetype<span class="sc">$</span>param_cue_type <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(subjectwise_cuetype<span class="sc">$</span>param_cue_type)</span>
<span id="cb629-2"><a href="ch12_n-1outcome.html#cb629-2" aria-hidden="true" tabindex="-1"></a>sp <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data=</span>subjectwise_cuetype, </span>
<span id="cb629-3"><a href="ch12_n-1outcome.html#cb629-3" aria-hidden="true" tabindex="-1"></a>             <span class="fu">aes</span>(<span class="at">x=</span>DV1_mean_per_sub, <span class="at">y=</span>DV2_mean_per_sub,</span>
<span id="cb629-4"><a href="ch12_n-1outcome.html#cb629-4" aria-hidden="true" tabindex="-1"></a>             <span class="at">color =</span> param_cue_type)) <span class="sc">+</span> </span>
<span id="cb629-5"><a href="ch12_n-1outcome.html#cb629-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb629-6"><a href="ch12_n-1outcome.html#cb629-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_abline</span>(<span class="at">intercept =</span> <span class="dv">0</span>, <span class="at">slope =</span> <span class="dv">1</span>, <span class="at">color=</span><span class="st">&quot;green&quot;</span>, </span>
<span id="cb629-7"><a href="ch12_n-1outcome.html#cb629-7" aria-hidden="true" tabindex="-1"></a>                 <span class="at">linetype=</span><span class="st">&quot;dashed&quot;</span>, <span class="at">size=</span><span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb629-8"><a href="ch12_n-1outcome.html#cb629-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">&#39;lm&#39;</span>) <span class="sc">+</span></span>
<span id="cb629-9"><a href="ch12_n-1outcome.html#cb629-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">aspect.ratio=</span><span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb629-10"><a href="ch12_n-1outcome.html#cb629-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;n-2 outcome rating&quot;</span>) <span class="sc">+</span></span>
<span id="cb629-11"><a href="ch12_n-1outcome.html#cb629-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;n expectation rating&quot;</span>)</span>
<span id="cb629-12"><a href="ch12_n-1outcome.html#cb629-12" aria-hidden="true" tabindex="-1"></a>sp <span class="sc">+</span></span>
<span id="cb629-13"><a href="ch12_n-1outcome.html#cb629-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">title =</span> <span class="fu">paste</span>(taskname, <span class="st">&quot;- Does the linear relationship between current expectation ratings and the previous outcome ratings differ as a function of cue?&quot;</span>),</span>
<span id="cb629-14"><a href="ch12_n-1outcome.html#cb629-14" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">&quot;Plotting the raw data - with all of the datapoints averaged across runs per 12 trials&quot;</span>, </span>
<span id="cb629-15"><a href="ch12_n-1outcome.html#cb629-15" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> <span class="st">&quot;high cue vs low cue. The slope is significant, theree is not interaction; Green: 1:1 slope&quot;</span>)</span></code></pre></div>
<pre><code>## `geom_smooth()` using formula = &#39;y ~ x&#39;</code></pre>
<pre><code>## Warning: Removed 29 rows containing non-finite values (`stat_smooth()`).</code></pre>
<pre><code>## Warning: Removed 29 rows containing missing values (`geom_point()`).</code></pre>
<p><img src="12_iv-cue-trial_dv-expectjayazeri_N-2_files/figure-html/unnamed-chunk-18-1.png" width="672" /></p>
<div class="sourceCode" id="cb633"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb633-1"><a href="ch12_n-1outcome.html#cb633-1" aria-hidden="true" tabindex="-1"></a><span class="co"># plot(subjectwise_naomit_2dv$DV1_mean_per_sub, subjectwise_naomit_2dv$DV2_mean_per_sub) + lines(x = c(0,200), y = c(0,200))</span></span></code></pre></div>
</div>
</div>
<div id="lets-demean-the-ratings.-1" class="section level2 hasAnchor" number="12.4">
<h2><span class="header-section-number">12.4</span> Let’s demean the ratings.<a href="ch12_n-1outcome.html#lets-demean-the-ratings.-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>bin ratings
Do the bins do their jobs?
plot one run
then check the min, max and see if the quantization is done properly.
YES, it is</p>
<div class="sourceCode" id="cb634"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb634-1"><a href="ch12_n-1outcome.html#cb634-1" aria-hidden="true" tabindex="-1"></a><span class="co"># per subject, session, run</span></span>
<span id="cb634-2"><a href="ch12_n-1outcome.html#cb634-2" aria-hidden="true" tabindex="-1"></a><span class="co">#das$wt_2 &lt;- as.numeric(cut_number(das$wt,3))</span></span>
<span id="cb634-3"><a href="ch12_n-1outcome.html#cb634-3" aria-hidden="true" tabindex="-1"></a>df_subset <span class="ot">=</span> <span class="fu">subset</span>(data_a3lag_omit, src_subject_id <span class="sc">==</span> <span class="dv">18</span> )</span>
<span id="cb634-4"><a href="ch12_n-1outcome.html#cb634-4" aria-hidden="true" tabindex="-1"></a><span class="co">#df_subset$lag.04outcomeangle</span></span>
<span id="cb634-5"><a href="ch12_n-1outcome.html#cb634-5" aria-hidden="true" tabindex="-1"></a><span class="fu">min</span>(df_subset<span class="sc">$</span>lag<span class="fl">.04</span>outcomeangle)</span></code></pre></div>
<pre><code>## [1] 0</code></pre>
<div class="sourceCode" id="cb636"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb636-1"><a href="ch12_n-1outcome.html#cb636-1" aria-hidden="true" tabindex="-1"></a><span class="fu">max</span>(df_subset<span class="sc">$</span>lag<span class="fl">.04</span>outcomeangle)</span></code></pre></div>
<pre><code>## [1] 88.7054</code></pre>
<div class="sourceCode" id="cb638"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb638-1"><a href="ch12_n-1outcome.html#cb638-1" aria-hidden="true" tabindex="-1"></a><span class="fu">range</span>(df_subset<span class="sc">$</span>lag<span class="fl">.04</span>outcomeangle)</span></code></pre></div>
<pre><code>## [1]  0.0000 88.7054</code></pre>
<div class="sourceCode" id="cb640"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb640-1"><a href="ch12_n-1outcome.html#cb640-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cut_interval</span>(<span class="fu">range</span>(df_subset<span class="sc">$</span>lag<span class="fl">.04</span>outcomeangle), <span class="at">n =</span> <span class="dv">5</span>)</span></code></pre></div>
<pre><code>## [1] [0,17.7]  (71,88.7]
## Levels: [0,17.7] (17.7,35.5] (35.5,53.2] (53.2,71] (71,88.7]</code></pre>
<div class="sourceCode" id="cb642"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb642-1"><a href="ch12_n-1outcome.html#cb642-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(df_subset<span class="sc">$</span>lag<span class="fl">.04</span>outcomeangle)</span></code></pre></div>
<p><img src="12_iv-cue-trial_dv-expectjayazeri_N-2_files/figure-html/test_bin_12-1.png" width="672" /></p>
<div class="sourceCode" id="cb643"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb643-1"><a href="ch12_n-1outcome.html#cb643-1" aria-hidden="true" tabindex="-1"></a><span class="co"># hist(c(121.39691, 102.30392,  89.30972,  92.07837, 121.51694, 148.16579, 122.95297 ,126.36490 ,123.69007 , 51.34019,  36.86990))</span></span>
<span id="cb643-2"><a href="ch12_n-1outcome.html#cb643-2" aria-hidden="true" tabindex="-1"></a>df_subset<span class="sc">$</span>bin <span class="ot">=</span> <span class="fu">cut_interval</span>(df_subset<span class="sc">$</span>lag<span class="fl">.04</span>outcomeangle, <span class="at">n =</span> <span class="dv">5</span>)</span>
<span id="cb643-3"><a href="ch12_n-1outcome.html#cb643-3" aria-hidden="true" tabindex="-1"></a>df_subset<span class="sc">$</span>bin_num <span class="ot">=</span> <span class="fu">as.numeric</span>(<span class="fu">cut_interval</span>(df_subset<span class="sc">$</span>lag<span class="fl">.04</span>outcomeangle, <span class="at">n =</span> <span class="dv">5</span>))</span>
<span id="cb643-4"><a href="ch12_n-1outcome.html#cb643-4" aria-hidden="true" tabindex="-1"></a><span class="co"># cut_interval(df_subset$lag.04outcomeangle, n = 6)</span></span>
<span id="cb643-5"><a href="ch12_n-1outcome.html#cb643-5" aria-hidden="true" tabindex="-1"></a><span class="co"># as.numeric(cut_interval(df_subset$lag.04outcomeangle, n = 6))</span></span>
<span id="cb643-6"><a href="ch12_n-1outcome.html#cb643-6" aria-hidden="true" tabindex="-1"></a><span class="co"># https://stackoverflow.com/questions/21714457/is-cut-style-binning-available-in-dplyr</span></span>
<span id="cb643-7"><a href="ch12_n-1outcome.html#cb643-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb643-8"><a href="ch12_n-1outcome.html#cb643-8" aria-hidden="true" tabindex="-1"></a>  <span class="co"># mutate(lagoutcomebin = as.numeric(ggplot2::cut_interval(data_a3lag_omit$lag.04outcomeangle,5)))</span></span>
<span id="cb643-9"><a href="ch12_n-1outcome.html#cb643-9" aria-hidden="true" tabindex="-1"></a>  <span class="co">#group_by(src_subject_id, session_id, ) %&gt;%</span></span></code></pre></div>
<div class="sourceCode" id="cb644"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb644-1"><a href="ch12_n-1outcome.html#cb644-1" aria-hidden="true" tabindex="-1"></a>df_discrete <span class="ot">=</span> data_a3lag_omit <span class="sc">%&gt;%</span></span>
<span id="cb644-2"><a href="ch12_n-1outcome.html#cb644-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(src_subject_id) <span class="sc">%&gt;%</span></span>
<span id="cb644-3"><a href="ch12_n-1outcome.html#cb644-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">bin =</span> <span class="fu">cut_interval</span>(lag<span class="fl">.04</span>outcomeangle, <span class="at">n =</span> <span class="dv">5</span>),</span>
<span id="cb644-4"><a href="ch12_n-1outcome.html#cb644-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">n_2outcomelevels =</span> <span class="fu">as.numeric</span>(<span class="fu">cut_interval</span>(lag<span class="fl">.04</span>outcomeangle, <span class="at">n =</span> <span class="dv">5</span>)))</span>
<span id="cb644-5"><a href="ch12_n-1outcome.html#cb644-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb644-6"><a href="ch12_n-1outcome.html#cb644-6" aria-hidden="true" tabindex="-1"></a><span class="co">#, &quot;session_id&quot;, &quot;param_run_num&quot;</span></span>
<span id="cb644-7"><a href="ch12_n-1outcome.html#cb644-7" aria-hidden="true" tabindex="-1"></a><span class="co"># df_subset$bin = cut_interval(df_subset$lag.04outcomeangle, n = 5)</span></span>
<span id="cb644-8"><a href="ch12_n-1outcome.html#cb644-8" aria-hidden="true" tabindex="-1"></a><span class="co"># df_subset$bin_num = as.numeric(cut_interval(df_subset$lag.04outcomeangle, n = 5))</span></span></code></pre></div>
<p>confirm that df discrete has 5 levels per participant
the number of counts per frequency can differ</p>
<div class="sourceCode" id="cb645"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb645-1"><a href="ch12_n-1outcome.html#cb645-1" aria-hidden="true" tabindex="-1"></a>res <span class="ot">&lt;-</span> df_discrete <span class="sc">%&gt;%</span> </span>
<span id="cb645-2"><a href="ch12_n-1outcome.html#cb645-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(src_subject_id,n_2outcomelevels) <span class="sc">%&gt;%</span> </span>
<span id="cb645-3"><a href="ch12_n-1outcome.html#cb645-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tally</span>()</span></code></pre></div>
<div class="sourceCode" id="cb646"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb646-1"><a href="ch12_n-1outcome.html#cb646-1" aria-hidden="true" tabindex="-1"></a>res</span></code></pre></div>
<pre><code>## # A tibble: 514 × 3
## # Groups:   src_subject_id [104]
##    src_subject_id n_2outcomelevels     n
##    &lt;fct&gt;                     &lt;dbl&gt; &lt;int&gt;
##  1 13                            1     1
##  2 13                            2     4
##  3 13                            3     4
##  4 13                            4    12
##  5 13                            5    19
##  6 14                            1    10
##  7 14                            2    16
##  8 14                            3     7
##  9 14                            4     6
## 10 14                            5     1
## # … with 504 more rows</code></pre>
<div class="sourceCode" id="cb648"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb648-1"><a href="ch12_n-1outcome.html#cb648-1" aria-hidden="true" tabindex="-1"></a>pain_df  <span class="ot">=</span> df_discrete[df_discrete<span class="sc">$</span>param_task_name <span class="sc">==</span> <span class="st">&quot;pain&quot;</span>,]</span>
<span id="cb648-2"><a href="ch12_n-1outcome.html#cb648-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(pain_df, <span class="fu">aes</span>(<span class="at">y =</span> event02_expect_angle, </span>
<span id="cb648-3"><a href="ch12_n-1outcome.html#cb648-3" aria-hidden="true" tabindex="-1"></a>                       <span class="at">x =</span> n_2outcomelevels, </span>
<span id="cb648-4"><a href="ch12_n-1outcome.html#cb648-4" aria-hidden="true" tabindex="-1"></a>                       <span class="at">colour =</span> subject), <span class="at">size =</span> .<span class="dv">3</span>, <span class="at">color =</span> <span class="st">&#39;gray&#39;</span>) <span class="sc">+</span> </span>
<span id="cb648-5"><a href="ch12_n-1outcome.html#cb648-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> .<span class="dv">1</span>) <span class="sc">+</span> </span>
<span id="cb648-6"><a href="ch12_n-1outcome.html#cb648-6" aria-hidden="true" tabindex="-1"></a>  <span class="co"># geom_smooth(method = &#39;lm&#39;, formula= y ~ x, se = FALSE, size = .1) +</span></span>
<span id="cb648-7"><a href="ch12_n-1outcome.html#cb648-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">&quot;gam&quot;</span>) <span class="sc">+</span></span>
<span id="cb648-8"><a href="ch12_n-1outcome.html#cb648-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>()</span></code></pre></div>
<pre><code>## `geom_smooth()` using formula = &#39;y ~ s(x, bs = &quot;cs&quot;)&#39;</code></pre>
<pre><code>## Warning: Removed 202 rows containing non-finite values (`stat_smooth()`).</code></pre>
<pre><code>## Warning: Computation failed in `stat_smooth()`
## Caused by error in `smooth.construct.cr.smooth.spec()`:
## ! x has insufficient unique values to support 10 knots: reduce k.</code></pre>
<pre><code>## Warning: Removed 202 rows containing missing values (`geom_point()`).</code></pre>
<p><img src="12_iv-cue-trial_dv-expectjayazeri_N-2_files/figure-html/unnamed-chunk-22-1.png" width="672" /></p>
</div>
<div id="demean-and-then-discretize-1" class="section level2 hasAnchor" number="12.5">
<h2><span class="header-section-number">12.5</span> DEMEAN AND THEN DISCRETIZE<a href="ch12_n-1outcome.html#demean-and-then-discretize-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb653"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb653-1"><a href="ch12_n-1outcome.html#cb653-1" aria-hidden="true" tabindex="-1"></a>df_discrete <span class="ot">=</span> data_a3lag_omit <span class="sc">%&gt;%</span></span>
<span id="cb653-2"><a href="ch12_n-1outcome.html#cb653-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(src_subject_id) <span class="sc">%&gt;%</span></span>
<span id="cb653-3"><a href="ch12_n-1outcome.html#cb653-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">lag.04outcomeangle_demean =</span> lag<span class="fl">.04</span>outcomeangle<span class="sc">-</span><span class="fu">mean</span>(lag<span class="fl">.04</span>outcomeangle),</span>
<span id="cb653-4"><a href="ch12_n-1outcome.html#cb653-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">event02_expect_angle_demean =</span> event02_expect_angle<span class="sc">-</span><span class="fu">mean</span>(event02_expect_angle)) <span class="sc">%&gt;%</span></span>
<span id="cb653-5"><a href="ch12_n-1outcome.html#cb653-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">bin =</span> <span class="fu">cut_interval</span>(lag<span class="fl">.04</span>outcomeangle_demean, <span class="at">n =</span> <span class="dv">5</span>),</span>
<span id="cb653-6"><a href="ch12_n-1outcome.html#cb653-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">n_2outcomelevels =</span> <span class="fu">as.numeric</span>(<span class="fu">cut_interval</span>(lag<span class="fl">.04</span>outcomeangle_demean, <span class="at">n =</span> <span class="dv">5</span>)))</span>
<span id="cb653-7"><a href="ch12_n-1outcome.html#cb653-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb653-8"><a href="ch12_n-1outcome.html#cb653-8" aria-hidden="true" tabindex="-1"></a><span class="co">#, &quot;session_id&quot;, &quot;param_run_num&quot;</span></span>
<span id="cb653-9"><a href="ch12_n-1outcome.html#cb653-9" aria-hidden="true" tabindex="-1"></a><span class="co"># df_subset$bin = cut_interval(df_subset$lag.04outcomeangle, n = 5)</span></span>
<span id="cb653-10"><a href="ch12_n-1outcome.html#cb653-10" aria-hidden="true" tabindex="-1"></a><span class="co"># df_subset$bin_num = as.numeric(cut_interval(df_subset$lag.04outcomeangle, n = 5))</span></span></code></pre></div>
<div class="sourceCode" id="cb654"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb654-1"><a href="ch12_n-1outcome.html#cb654-1" aria-hidden="true" tabindex="-1"></a>res <span class="ot">&lt;-</span> df_discrete <span class="sc">%&gt;%</span> </span>
<span id="cb654-2"><a href="ch12_n-1outcome.html#cb654-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(src_subject_id,n_2outcomelevels) <span class="sc">%&gt;%</span> </span>
<span id="cb654-3"><a href="ch12_n-1outcome.html#cb654-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tally</span>()</span>
<span id="cb654-4"><a href="ch12_n-1outcome.html#cb654-4" aria-hidden="true" tabindex="-1"></a>res</span></code></pre></div>
<pre><code>## # A tibble: 514 × 3
## # Groups:   src_subject_id [104]
##    src_subject_id n_2outcomelevels     n
##    &lt;fct&gt;                     &lt;dbl&gt; &lt;int&gt;
##  1 13                            1     1
##  2 13                            2     4
##  3 13                            3     4
##  4 13                            4    12
##  5 13                            5    19
##  6 14                            1    10
##  7 14                            2    16
##  8 14                            3     7
##  9 14                            4     6
## 10 14                            5     1
## # … with 504 more rows</code></pre>
<div class="sourceCode" id="cb656"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb656-1"><a href="ch12_n-1outcome.html#cb656-1" aria-hidden="true" tabindex="-1"></a>pain_df  <span class="ot">=</span> df_discrete[df_discrete<span class="sc">$</span>param_task_name <span class="sc">==</span> <span class="st">&quot;pain&quot;</span>,]</span>
<span id="cb656-2"><a href="ch12_n-1outcome.html#cb656-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(pain_df, <span class="fu">aes</span>(<span class="at">y =</span> event02_expect_angle_demean, </span>
<span id="cb656-3"><a href="ch12_n-1outcome.html#cb656-3" aria-hidden="true" tabindex="-1"></a>                       <span class="at">x =</span> n_2outcomelevels, </span>
<span id="cb656-4"><a href="ch12_n-1outcome.html#cb656-4" aria-hidden="true" tabindex="-1"></a>                       <span class="at">colour =</span> subject), <span class="at">size =</span> .<span class="dv">3</span>, <span class="at">color =</span> <span class="st">&#39;gray&#39;</span>) <span class="sc">+</span> </span>
<span id="cb656-5"><a href="ch12_n-1outcome.html#cb656-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> .<span class="dv">1</span>) <span class="sc">+</span> </span>
<span id="cb656-6"><a href="ch12_n-1outcome.html#cb656-6" aria-hidden="true" tabindex="-1"></a>  <span class="co"># geom_smooth(method = &#39;lm&#39;, formula= y ~ x, se = FALSE, size = .1) +</span></span>
<span id="cb656-7"><a href="ch12_n-1outcome.html#cb656-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">&quot;gam&quot;</span>) <span class="sc">+</span></span>
<span id="cb656-8"><a href="ch12_n-1outcome.html#cb656-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>()</span></code></pre></div>
<pre><code>## `geom_smooth()` using formula = &#39;y ~ s(x, bs = &quot;cs&quot;)&#39;</code></pre>
<pre><code>## Warning: Removed 2601 rows containing non-finite values (`stat_smooth()`).</code></pre>
<pre><code>## Warning: Computation failed in `stat_smooth()`
## Caused by error in `smooth.construct.cr.smooth.spec()`:
## ! x has insufficient unique values to support 10 knots: reduce k.</code></pre>
<pre><code>## Warning: Removed 2601 rows containing missing values (`geom_point()`).</code></pre>
<p><img src="12_iv-cue-trial_dv-expectjayazeri_N-2_files/figure-html/unnamed-chunk-25-1.png" width="672" /></p>
<div class="sourceCode" id="cb661"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb661-1"><a href="ch12_n-1outcome.html#cb661-1" aria-hidden="true" tabindex="-1"></a>df_discrete<span class="sc">$</span>n_2outcomelevels_newlev <span class="ot">=</span> df_discrete<span class="sc">$</span>n_2outcomelevels <span class="sc">-</span><span class="dv">3</span></span>
<span id="cb661-2"><a href="ch12_n-1outcome.html#cb661-2" aria-hidden="true" tabindex="-1"></a>    subjectwise_bin_demean <span class="ot">&lt;-</span> <span class="fu">meanSummary</span>(df_discrete, <span class="fu">c</span>(</span>
<span id="cb661-3"><a href="ch12_n-1outcome.html#cb661-3" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;subject&quot;</span>,<span class="st">&quot;param_task_name&quot;</span>,<span class="st">&quot;n_2outcomelevels&quot;</span> </span>
<span id="cb661-4"><a href="ch12_n-1outcome.html#cb661-4" aria-hidden="true" tabindex="-1"></a>    ), <span class="st">&quot;event02_expect_angle_demean&quot;</span>)</span>
<span id="cb661-5"><a href="ch12_n-1outcome.html#cb661-5" aria-hidden="true" tabindex="-1"></a>subjectwise_bin_demean_naomit <span class="ot">&lt;-</span> <span class="fu">na.omit</span>(subjectwise_bin_demean)</span>
<span id="cb661-6"><a href="ch12_n-1outcome.html#cb661-6" aria-hidden="true" tabindex="-1"></a>    groupwise_bin_demean <span class="ot">&lt;-</span> <span class="fu">summarySEwithin</span>(</span>
<span id="cb661-7"><a href="ch12_n-1outcome.html#cb661-7" aria-hidden="true" tabindex="-1"></a>        <span class="at">data =</span> subjectwise_bin_demean_naomit,</span>
<span id="cb661-8"><a href="ch12_n-1outcome.html#cb661-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">measurevar =</span> <span class="st">&quot;mean_per_sub&quot;</span>, <span class="co"># variable created from above</span></span>
<span id="cb661-9"><a href="ch12_n-1outcome.html#cb661-9" aria-hidden="true" tabindex="-1"></a>        <span class="at">withinvars =</span> <span class="fu">c</span>(<span class="st">&quot;n_2outcomelevels&quot;</span>), <span class="co"># iv</span></span>
<span id="cb661-10"><a href="ch12_n-1outcome.html#cb661-10" aria-hidden="true" tabindex="-1"></a>       <span class="at">idvar =</span> <span class="st">&quot;subject&quot;</span></span>
<span id="cb661-11"><a href="ch12_n-1outcome.html#cb661-11" aria-hidden="true" tabindex="-1"></a>    )</span></code></pre></div>
<pre><code>## Automatically converting the following non-factors to factors: n_2outcomelevels</code></pre>
<div class="sourceCode" id="cb663"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb663-1"><a href="ch12_n-1outcome.html#cb663-1" aria-hidden="true" tabindex="-1"></a>subjectwise_bin_demean_naomit<span class="sc">$</span>n_2outcomelevels_newlev <span class="ot">=</span> <span class="fu">as.numeric</span>(subjectwise_bin_demean_naomit<span class="sc">$</span>n_2outcomelevels) <span class="sc">-</span><span class="dv">3</span></span>
<span id="cb663-2"><a href="ch12_n-1outcome.html#cb663-2" aria-hidden="true" tabindex="-1"></a>groupwise_bin_demean<span class="sc">$</span>n_2outcomelevels_newlev <span class="ot">=</span> <span class="fu">as.numeric</span>(groupwise_bin_demean<span class="sc">$</span>n_2outcomelevels) <span class="sc">-</span><span class="dv">3</span></span></code></pre></div>
<div class="sourceCode" id="cb664"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb664-1"><a href="ch12_n-1outcome.html#cb664-1" aria-hidden="true" tabindex="-1"></a>plot_halfrainclouds_sig <span class="ot">&lt;-</span> <span class="cf">function</span>(subjectwise, groupwise, iv,sub_iv,</span>
<span id="cb664-2"><a href="ch12_n-1outcome.html#cb664-2" aria-hidden="true" tabindex="-1"></a>                                      subjectwise_mean, group_mean, se, subject,</span>
<span id="cb664-3"><a href="ch12_n-1outcome.html#cb664-3" aria-hidden="true" tabindex="-1"></a>                                      ggtitle, title, xlab, ylab, taskname, ylim,</span>
<span id="cb664-4"><a href="ch12_n-1outcome.html#cb664-4" aria-hidden="true" tabindex="-1"></a>                                      w, h, dv_keyword, color, save_fname) {</span>
<span id="cb664-5"><a href="ch12_n-1outcome.html#cb664-5" aria-hidden="true" tabindex="-1"></a>  g <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(</span>
<span id="cb664-6"><a href="ch12_n-1outcome.html#cb664-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> subjectwise,</span>
<span id="cb664-7"><a href="ch12_n-1outcome.html#cb664-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(</span>
<span id="cb664-8"><a href="ch12_n-1outcome.html#cb664-8" aria-hidden="true" tabindex="-1"></a>      <span class="at">y =</span> .data[[subjectwise_mean]],</span>
<span id="cb664-9"><a href="ch12_n-1outcome.html#cb664-9" aria-hidden="true" tabindex="-1"></a>      <span class="at">x =</span> <span class="fu">factor</span>(.data[[iv]]),</span>
<span id="cb664-10"><a href="ch12_n-1outcome.html#cb664-10" aria-hidden="true" tabindex="-1"></a>      <span class="at">fill =</span> <span class="fu">factor</span>(.data[[iv]])</span>
<span id="cb664-11"><a href="ch12_n-1outcome.html#cb664-11" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb664-12"><a href="ch12_n-1outcome.html#cb664-12" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb664-13"><a href="ch12_n-1outcome.html#cb664-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">coord_cartesian</span>(<span class="at">ylim =</span> ylim, <span class="at">expand =</span> <span class="cn">TRUE</span>) <span class="sc">+</span></span>
<span id="cb664-14"><a href="ch12_n-1outcome.html#cb664-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb664-15"><a href="ch12_n-1outcome.html#cb664-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_half_violin</span>(</span>
<span id="cb664-16"><a href="ch12_n-1outcome.html#cb664-16" aria-hidden="true" tabindex="-1"></a>      <span class="fu">aes</span>(<span class="at">fill =</span> <span class="fu">factor</span>(.data[[iv]])),</span>
<span id="cb664-17"><a href="ch12_n-1outcome.html#cb664-17" aria-hidden="true" tabindex="-1"></a>      <span class="at">side =</span> <span class="st">&#39;r&#39;</span>,</span>
<span id="cb664-18"><a href="ch12_n-1outcome.html#cb664-18" aria-hidden="true" tabindex="-1"></a>      <span class="co">#position = &#39;dodge&#39;,</span></span>
<span id="cb664-19"><a href="ch12_n-1outcome.html#cb664-19" aria-hidden="true" tabindex="-1"></a>      <span class="at">adjust =</span> <span class="fl">0.5</span>,</span>
<span id="cb664-20"><a href="ch12_n-1outcome.html#cb664-20" aria-hidden="true" tabindex="-1"></a>      <span class="at">trim =</span> <span class="cn">FALSE</span>,</span>
<span id="cb664-21"><a href="ch12_n-1outcome.html#cb664-21" aria-hidden="true" tabindex="-1"></a>      <span class="at">alpha =</span> .<span class="dv">5</span>,</span>
<span id="cb664-22"><a href="ch12_n-1outcome.html#cb664-22" aria-hidden="true" tabindex="-1"></a>      <span class="at">colour =</span> <span class="cn">NA</span></span>
<span id="cb664-23"><a href="ch12_n-1outcome.html#cb664-23" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb664-24"><a href="ch12_n-1outcome.html#cb664-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb664-25"><a href="ch12_n-1outcome.html#cb664-25" aria-hidden="true" tabindex="-1"></a>    <span class="co"># geom_point(</span></span>
<span id="cb664-26"><a href="ch12_n-1outcome.html#cb664-26" aria-hidden="true" tabindex="-1"></a>    <span class="co">#   aes(</span></span>
<span id="cb664-27"><a href="ch12_n-1outcome.html#cb664-27" aria-hidden="true" tabindex="-1"></a>    <span class="co">#     x = as.numeric(.data[[iv]]) - .15,</span></span>
<span id="cb664-28"><a href="ch12_n-1outcome.html#cb664-28" aria-hidden="true" tabindex="-1"></a>    <span class="co">#     y = .data[[subjectwise_mean]],</span></span>
<span id="cb664-29"><a href="ch12_n-1outcome.html#cb664-29" aria-hidden="true" tabindex="-1"></a>    <span class="co">#     color = factor(.data[[iv]])</span></span>
<span id="cb664-30"><a href="ch12_n-1outcome.html#cb664-30" aria-hidden="true" tabindex="-1"></a>    <span class="co">#   ),</span></span>
<span id="cb664-31"><a href="ch12_n-1outcome.html#cb664-31" aria-hidden="true" tabindex="-1"></a>    <span class="co">#   position = position_jitter(width = .05),</span></span>
<span id="cb664-32"><a href="ch12_n-1outcome.html#cb664-32" aria-hidden="true" tabindex="-1"></a>    <span class="co">#   size = 1, alpha = 0.8, shape = 20</span></span>
<span id="cb664-33"><a href="ch12_n-1outcome.html#cb664-33" aria-hidden="true" tabindex="-1"></a>    <span class="co"># ) +</span></span>
<span id="cb664-34"><a href="ch12_n-1outcome.html#cb664-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb664-35"><a href="ch12_n-1outcome.html#cb664-35" aria-hidden="true" tabindex="-1"></a>  <span class="co"># geom_line(data = subjectwise,</span></span>
<span id="cb664-36"><a href="ch12_n-1outcome.html#cb664-36" aria-hidden="true" tabindex="-1"></a>  <span class="co">#   aes(</span></span>
<span id="cb664-37"><a href="ch12_n-1outcome.html#cb664-37" aria-hidden="true" tabindex="-1"></a>  <span class="co">#     group = .data[[subject]],</span></span>
<span id="cb664-38"><a href="ch12_n-1outcome.html#cb664-38" aria-hidden="true" tabindex="-1"></a>  <span class="co">#     x = as.numeric(factor(.data[[iv]])) - .1 ,</span></span>
<span id="cb664-39"><a href="ch12_n-1outcome.html#cb664-39" aria-hidden="true" tabindex="-1"></a>  <span class="co">#     y = .data[[subjectwise_mean]],</span></span>
<span id="cb664-40"><a href="ch12_n-1outcome.html#cb664-40" aria-hidden="true" tabindex="-1"></a>  <span class="co">#     fill = factor(.data[[iv]])</span></span>
<span id="cb664-41"><a href="ch12_n-1outcome.html#cb664-41" aria-hidden="true" tabindex="-1"></a>  <span class="co">#     ),</span></span>
<span id="cb664-42"><a href="ch12_n-1outcome.html#cb664-42" aria-hidden="true" tabindex="-1"></a>  <span class="co">#   linetype = &quot;solid&quot;,</span></span>
<span id="cb664-43"><a href="ch12_n-1outcome.html#cb664-43" aria-hidden="true" tabindex="-1"></a>  <span class="co">#   color = &quot;grey&quot;,</span></span>
<span id="cb664-44"><a href="ch12_n-1outcome.html#cb664-44" aria-hidden="true" tabindex="-1"></a>  <span class="co">#   alpha = .3) +</span></span>
<span id="cb664-45"><a href="ch12_n-1outcome.html#cb664-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb664-46"><a href="ch12_n-1outcome.html#cb664-46" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(</span>
<span id="cb664-47"><a href="ch12_n-1outcome.html#cb664-47" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(</span>
<span id="cb664-48"><a href="ch12_n-1outcome.html#cb664-48" aria-hidden="true" tabindex="-1"></a>      <span class="co"># group = .data[[subject]],</span></span>
<span id="cb664-49"><a href="ch12_n-1outcome.html#cb664-49" aria-hidden="true" tabindex="-1"></a>      <span class="at">x =</span> <span class="fu">as.numeric</span>(<span class="fu">factor</span>(.data[[iv]])) <span class="sc">-</span> .<span class="dv">1</span> ,</span>
<span id="cb664-50"><a href="ch12_n-1outcome.html#cb664-50" aria-hidden="true" tabindex="-1"></a>      <span class="at">y =</span> .data[[subjectwise_mean]],</span>
<span id="cb664-51"><a href="ch12_n-1outcome.html#cb664-51" aria-hidden="true" tabindex="-1"></a>      <span class="at">color =</span> <span class="fu">factor</span>(.data[[iv]])</span>
<span id="cb664-52"><a href="ch12_n-1outcome.html#cb664-52" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb664-53"><a href="ch12_n-1outcome.html#cb664-53" aria-hidden="true" tabindex="-1"></a>    <span class="at">position =</span> <span class="fu">position_jitter</span>(<span class="at">width =</span> .<span class="dv">05</span>),</span>
<span id="cb664-54"><a href="ch12_n-1outcome.html#cb664-54" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> <span class="dv">2</span>,</span>
<span id="cb664-55"><a href="ch12_n-1outcome.html#cb664-55" aria-hidden="true" tabindex="-1"></a>    <span class="at">alpha =</span> <span class="fl">0.7</span>,</span>
<span id="cb664-56"><a href="ch12_n-1outcome.html#cb664-56" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span> </span>
<span id="cb664-57"><a href="ch12_n-1outcome.html#cb664-57" aria-hidden="true" tabindex="-1"></a>    <span class="co"># geom_boxplot(</span></span>
<span id="cb664-58"><a href="ch12_n-1outcome.html#cb664-58" aria-hidden="true" tabindex="-1"></a>    <span class="co">#   aes(</span></span>
<span id="cb664-59"><a href="ch12_n-1outcome.html#cb664-59" aria-hidden="true" tabindex="-1"></a>    <span class="co">#     x = .data[[iv]],</span></span>
<span id="cb664-60"><a href="ch12_n-1outcome.html#cb664-60" aria-hidden="true" tabindex="-1"></a>    <span class="co">#     y = .data[[subjectwise_mean]],</span></span>
<span id="cb664-61"><a href="ch12_n-1outcome.html#cb664-61" aria-hidden="true" tabindex="-1"></a>    <span class="co">#     fill = .data[[iv]]</span></span>
<span id="cb664-62"><a href="ch12_n-1outcome.html#cb664-62" aria-hidden="true" tabindex="-1"></a>    <span class="co">#   ),</span></span>
<span id="cb664-63"><a href="ch12_n-1outcome.html#cb664-63" aria-hidden="true" tabindex="-1"></a>    <span class="co">#   outlier.shape = NA, alpha = 0.8, width = .1, colour = &quot;black&quot;</span></span>
<span id="cb664-64"><a href="ch12_n-1outcome.html#cb664-64" aria-hidden="true" tabindex="-1"></a>    <span class="co"># ) +</span></span>
<span id="cb664-65"><a href="ch12_n-1outcome.html#cb664-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb664-66"><a href="ch12_n-1outcome.html#cb664-66" aria-hidden="true" tabindex="-1"></a>    <span class="co"># geom_half_boxplot(</span></span>
<span id="cb664-67"><a href="ch12_n-1outcome.html#cb664-67" aria-hidden="true" tabindex="-1"></a>    <span class="co">#   data = subjectwise,</span></span>
<span id="cb664-68"><a href="ch12_n-1outcome.html#cb664-68" aria-hidden="true" tabindex="-1"></a>    <span class="co">#   aes(x = .data[[iv]],</span></span>
<span id="cb664-69"><a href="ch12_n-1outcome.html#cb664-69" aria-hidden="true" tabindex="-1"></a>    <span class="co">#       y = .data[[subjectwise_mean]],</span></span>
<span id="cb664-70"><a href="ch12_n-1outcome.html#cb664-70" aria-hidden="true" tabindex="-1"></a>    <span class="co">#       fill = .data[[iv]]),</span></span>
<span id="cb664-71"><a href="ch12_n-1outcome.html#cb664-71" aria-hidden="true" tabindex="-1"></a>    <span class="co">#   side = &quot;r&quot;,</span></span>
<span id="cb664-72"><a href="ch12_n-1outcome.html#cb664-72" aria-hidden="true" tabindex="-1"></a>    <span class="co">#   outlier.shape = NA,</span></span>
<span id="cb664-73"><a href="ch12_n-1outcome.html#cb664-73" aria-hidden="true" tabindex="-1"></a>    <span class="co">#   alpha = 0.8,</span></span>
<span id="cb664-74"><a href="ch12_n-1outcome.html#cb664-74" aria-hidden="true" tabindex="-1"></a>    <span class="co">#   width = .05,</span></span>
<span id="cb664-75"><a href="ch12_n-1outcome.html#cb664-75" aria-hidden="true" tabindex="-1"></a>    <span class="co">#   notch = FALSE,</span></span>
<span id="cb664-76"><a href="ch12_n-1outcome.html#cb664-76" aria-hidden="true" tabindex="-1"></a>    <span class="co">#   notchwidth = 0,</span></span>
<span id="cb664-77"><a href="ch12_n-1outcome.html#cb664-77" aria-hidden="true" tabindex="-1"></a>    <span class="co">#   varwidth = FALSE,</span></span>
<span id="cb664-78"><a href="ch12_n-1outcome.html#cb664-78" aria-hidden="true" tabindex="-1"></a>    <span class="co">#   colour = &quot;black&quot;,</span></span>
<span id="cb664-79"><a href="ch12_n-1outcome.html#cb664-79" aria-hidden="true" tabindex="-1"></a>    <span class="co">#   errorbar.draw = FALSE</span></span>
<span id="cb664-80"><a href="ch12_n-1outcome.html#cb664-80" aria-hidden="true" tabindex="-1"></a>    <span class="co"># ) +</span></span>
<span id="cb664-81"><a href="ch12_n-1outcome.html#cb664-81" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb664-82"><a href="ch12_n-1outcome.html#cb664-82" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_errorbar</span>(</span>
<span id="cb664-83"><a href="ch12_n-1outcome.html#cb664-83" aria-hidden="true" tabindex="-1"></a>      <span class="at">data =</span> groupwise,</span>
<span id="cb664-84"><a href="ch12_n-1outcome.html#cb664-84" aria-hidden="true" tabindex="-1"></a>      <span class="fu">aes</span>(</span>
<span id="cb664-85"><a href="ch12_n-1outcome.html#cb664-85" aria-hidden="true" tabindex="-1"></a>        <span class="at">x =</span> <span class="fu">as.numeric</span>(.data[[sub_iv]]) <span class="sc">+</span> .<span class="dv">1</span> ,</span>
<span id="cb664-86"><a href="ch12_n-1outcome.html#cb664-86" aria-hidden="true" tabindex="-1"></a>        <span class="at">y =</span> <span class="fu">as.numeric</span>(.data[[group_mean]]),</span>
<span id="cb664-87"><a href="ch12_n-1outcome.html#cb664-87" aria-hidden="true" tabindex="-1"></a>        <span class="at">color =</span> <span class="fu">factor</span>(.data[[iv]]),</span>
<span id="cb664-88"><a href="ch12_n-1outcome.html#cb664-88" aria-hidden="true" tabindex="-1"></a>        <span class="at">ymin =</span> .data[[group_mean]] <span class="sc">-</span> .data[[se]],</span>
<span id="cb664-89"><a href="ch12_n-1outcome.html#cb664-89" aria-hidden="true" tabindex="-1"></a>        <span class="at">ymax =</span> .data[[group_mean]] <span class="sc">+</span> .data[[se]]</span>
<span id="cb664-90"><a href="ch12_n-1outcome.html#cb664-90" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb664-91"><a href="ch12_n-1outcome.html#cb664-91" aria-hidden="true" tabindex="-1"></a>      <span class="at">position =</span> <span class="fu">position_dodge</span>(<span class="at">width=</span><span class="fl">0.1</span>), <span class="at">width=</span><span class="fl">0.1</span> ,   <span class="co"># position = &#39;dodge&#39;,</span></span>
<span id="cb664-92"><a href="ch12_n-1outcome.html#cb664-92" aria-hidden="true" tabindex="-1"></a>      <span class="at">alpha =</span> <span class="dv">1</span></span>
<span id="cb664-93"><a href="ch12_n-1outcome.html#cb664-93" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb664-94"><a href="ch12_n-1outcome.html#cb664-94" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_line</span>(</span>
<span id="cb664-95"><a href="ch12_n-1outcome.html#cb664-95" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> groupwise,</span>
<span id="cb664-96"><a href="ch12_n-1outcome.html#cb664-96" aria-hidden="true" tabindex="-1"></a>  <span class="fu">aes</span>(</span>
<span id="cb664-97"><a href="ch12_n-1outcome.html#cb664-97" aria-hidden="true" tabindex="-1"></a>    <span class="co">#group = .data[[subject]],</span></span>
<span id="cb664-98"><a href="ch12_n-1outcome.html#cb664-98" aria-hidden="true" tabindex="-1"></a>    <span class="at">group =</span> <span class="dv">1</span>,</span>
<span id="cb664-99"><a href="ch12_n-1outcome.html#cb664-99" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="fu">as.numeric</span>(.data[[group_mean]]),</span>
<span id="cb664-100"><a href="ch12_n-1outcome.html#cb664-100" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="fu">as.numeric</span>(.data[[sub_iv]]) <span class="sc">+</span> .<span class="dv">1</span> ,</span>
<span id="cb664-101"><a href="ch12_n-1outcome.html#cb664-101" aria-hidden="true" tabindex="-1"></a>    <span class="co"># fill = factor(.data[[iv]])</span></span>
<span id="cb664-102"><a href="ch12_n-1outcome.html#cb664-102" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb664-103"><a href="ch12_n-1outcome.html#cb664-103" aria-hidden="true" tabindex="-1"></a>  <span class="at">linetype =</span> <span class="st">&quot;solid&quot;</span>, <span class="at">color =</span> <span class="st">&quot;#C97482&quot;</span>, <span class="at">alpha =</span> <span class="dv">1</span></span>
<span id="cb664-104"><a href="ch12_n-1outcome.html#cb664-104" aria-hidden="true" tabindex="-1"></a>) <span class="sc">+</span></span>
<span id="cb664-105"><a href="ch12_n-1outcome.html#cb664-105" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb664-106"><a href="ch12_n-1outcome.html#cb664-106" aria-hidden="true" tabindex="-1"></a>    <span class="co"># legend stuff ________________________________________________________ # nolint</span></span>
<span id="cb664-107"><a href="ch12_n-1outcome.html#cb664-107" aria-hidden="true" tabindex="-1"></a>    <span class="co">#expand_limits(x = 2.8) +</span></span>
<span id="cb664-108"><a href="ch12_n-1outcome.html#cb664-108" aria-hidden="true" tabindex="-1"></a>    <span class="co">#guides(fill = &quot;none&quot;) +</span></span>
<span id="cb664-109"><a href="ch12_n-1outcome.html#cb664-109" aria-hidden="true" tabindex="-1"></a>    <span class="fu">guides</span>(<span class="at">color =</span> <span class="st">&quot;none&quot;</span>) <span class="sc">+</span></span>
<span id="cb664-110"><a href="ch12_n-1outcome.html#cb664-110" aria-hidden="true" tabindex="-1"></a>    <span class="fu">guides</span>(<span class="at">fill =</span> <span class="fu">guide_legend</span>(<span class="at">title =</span> title)) <span class="sc">+</span></span>
<span id="cb664-111"><a href="ch12_n-1outcome.html#cb664-111" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> color) <span class="sc">+</span></span>
<span id="cb664-112"><a href="ch12_n-1outcome.html#cb664-112" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_manual</span>(<span class="at">values =</span> color) <span class="sc">+</span></span>
<span id="cb664-113"><a href="ch12_n-1outcome.html#cb664-113" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggtitle</span>(ggtitle) <span class="sc">+</span></span>
<span id="cb664-114"><a href="ch12_n-1outcome.html#cb664-114" aria-hidden="true" tabindex="-1"></a>    <span class="fu">xlab</span>(xlab) <span class="sc">+</span></span>
<span id="cb664-115"><a href="ch12_n-1outcome.html#cb664-115" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ylab</span>(ylab) <span class="sc">+</span></span>
<span id="cb664-116"><a href="ch12_n-1outcome.html#cb664-116" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_bw</span>()</span>
<span id="cb664-117"><a href="ch12_n-1outcome.html#cb664-117" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggsave</span>(save_fname, <span class="at">width =</span> w, <span class="at">height =</span> h)</span>
<span id="cb664-118"><a href="ch12_n-1outcome.html#cb664-118" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(g)</span>
<span id="cb664-119"><a href="ch12_n-1outcome.html#cb664-119" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<div class="sourceCode" id="cb665"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb665-1"><a href="ch12_n-1outcome.html#cb665-1" aria-hidden="true" tabindex="-1"></a>df_discrete<span class="sc">$</span>n_2outcomelevels_newlev <span class="ot">=</span> <span class="fu">as.factor</span>(df_discrete<span class="sc">$</span>n_2outcomelevels_newlev)</span>
<span id="cb665-2"><a href="ch12_n-1outcome.html#cb665-2" aria-hidden="true" tabindex="-1"></a>g <span class="ot">&lt;-</span></span>
<span id="cb665-3"><a href="ch12_n-1outcome.html#cb665-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_halfrainclouds_sig</span>(</span>
<span id="cb665-4"><a href="ch12_n-1outcome.html#cb665-4" aria-hidden="true" tabindex="-1"></a>    subjectwise_bin_demean_naomit,</span>
<span id="cb665-5"><a href="ch12_n-1outcome.html#cb665-5" aria-hidden="true" tabindex="-1"></a>    groupwise_bin_demean,</span>
<span id="cb665-6"><a href="ch12_n-1outcome.html#cb665-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">iv =</span> <span class="st">&quot;n_2outcomelevels_newlev&quot;</span>,</span>
<span id="cb665-7"><a href="ch12_n-1outcome.html#cb665-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">sub_iv =</span> <span class="st">&quot;n_2outcomelevels&quot;</span>,</span>
<span id="cb665-8"><a href="ch12_n-1outcome.html#cb665-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">subjectwise_mean =</span> <span class="st">&quot;mean_per_sub&quot;</span>,</span>
<span id="cb665-9"><a href="ch12_n-1outcome.html#cb665-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">group_mean =</span> <span class="st">&quot;mean_per_sub_norm_mean&quot;</span>,</span>
<span id="cb665-10"><a href="ch12_n-1outcome.html#cb665-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">se =</span> <span class="st">&quot;se&quot;</span>,</span>
<span id="cb665-11"><a href="ch12_n-1outcome.html#cb665-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">subject =</span> <span class="st">&quot;subject&quot;</span>,</span>
<span id="cb665-12"><a href="ch12_n-1outcome.html#cb665-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">ggtitle =</span> <span class="st">&quot;Do we see a sigmoidal pattern in the pain task?</span><span class="sc">\n</span><span class="st">Previous outcome ratings predict expectation ratings&quot;</span>,</span>
<span id="cb665-13"><a href="ch12_n-1outcome.html#cb665-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&quot;levels of (N-2) outcome ratings&quot;</span>,</span>
<span id="cb665-14"><a href="ch12_n-1outcome.html#cb665-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">xlab =</span> <span class="st">&quot;outcome ratings (N-2)&quot;</span>,</span>
<span id="cb665-15"><a href="ch12_n-1outcome.html#cb665-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">ylab =</span> <span class="st">&quot;expectation ratings (N)&quot;</span>,</span>
<span id="cb665-16"><a href="ch12_n-1outcome.html#cb665-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">taskname =</span> <span class="st">&quot;pain&quot;</span>,</span>
<span id="cb665-17"><a href="ch12_n-1outcome.html#cb665-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">ylim =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">40</span>, <span class="dv">40</span>),</span>
<span id="cb665-18"><a href="ch12_n-1outcome.html#cb665-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">w =</span> <span class="dv">3</span>,</span>
<span id="cb665-19"><a href="ch12_n-1outcome.html#cb665-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">h =</span> <span class="dv">5</span>,</span>
<span id="cb665-20"><a href="ch12_n-1outcome.html#cb665-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">dv_keyword =</span> <span class="st">&quot;sigmoidal&quot;</span>,</span>
<span id="cb665-21"><a href="ch12_n-1outcome.html#cb665-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="fu">c</span>(</span>
<span id="cb665-22"><a href="ch12_n-1outcome.html#cb665-22" aria-hidden="true" tabindex="-1"></a>      <span class="st">&#39;#ad2831&#39;</span>,</span>
<span id="cb665-23"><a href="ch12_n-1outcome.html#cb665-23" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;#800e13&quot;</span>,</span>
<span id="cb665-24"><a href="ch12_n-1outcome.html#cb665-24" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;#640d14&quot;</span>,</span>
<span id="cb665-25"><a href="ch12_n-1outcome.html#cb665-25" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;#38040e&quot;</span>,</span>
<span id="cb665-26"><a href="ch12_n-1outcome.html#cb665-26" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;#250902&quot;</span>,</span>
<span id="cb665-27"><a href="ch12_n-1outcome.html#cb665-27" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;#250902&quot;</span></span>
<span id="cb665-28"><a href="ch12_n-1outcome.html#cb665-28" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb665-29"><a href="ch12_n-1outcome.html#cb665-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">save_fname =</span> <span class="st">&quot;~/Download/TEST_n-2.png&quot;</span></span>
<span id="cb665-30"><a href="ch12_n-1outcome.html#cb665-30" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb665-31"><a href="ch12_n-1outcome.html#cb665-31" aria-hidden="true" tabindex="-1"></a>g</span></code></pre></div>
<p><img src="12_iv-cue-trial_dv-expectjayazeri_N-2_files/figure-html/unnamed-chunk-28-1.png" width="672" />
<a href="https://groups.google.com/g/ggplot2/c/csPNfSLKkco" class="uri">https://groups.google.com/g/ggplot2/c/csPNfSLKkco</a></p>
<div class="sourceCode" id="cb666"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb666-1"><a href="ch12_n-1outcome.html#cb666-1" aria-hidden="true" tabindex="-1"></a>g <span class="sc">+</span>    <span class="fu">geom_errorbar</span>(</span>
<span id="cb666-2"><a href="ch12_n-1outcome.html#cb666-2" aria-hidden="true" tabindex="-1"></a>      <span class="at">data =</span> groupwise_bin_demean,</span>
<span id="cb666-3"><a href="ch12_n-1outcome.html#cb666-3" aria-hidden="true" tabindex="-1"></a>      <span class="fu">aes</span>(</span>
<span id="cb666-4"><a href="ch12_n-1outcome.html#cb666-4" aria-hidden="true" tabindex="-1"></a>        <span class="at">x =</span> <span class="fu">as.numeric</span>(<span class="st">&quot;n_2outcomelevels_newlev&quot;</span>)  ,</span>
<span id="cb666-5"><a href="ch12_n-1outcome.html#cb666-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">y =</span> <span class="fu">as.numeric</span>(<span class="st">&quot;mean_per_sub_norm_mean&quot;</span>),</span>
<span id="cb666-6"><a href="ch12_n-1outcome.html#cb666-6" aria-hidden="true" tabindex="-1"></a>        <span class="co">#colour = as.numeric(&quot;n_2outcomelevels_newlev&quot;),</span></span>
<span id="cb666-7"><a href="ch12_n-1outcome.html#cb666-7" aria-hidden="true" tabindex="-1"></a>        <span class="at">ymin =</span> mean_per_sub_norm_mean <span class="sc">-</span> se,</span>
<span id="cb666-8"><a href="ch12_n-1outcome.html#cb666-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">ymax =</span> mean_per_sub_norm_mean <span class="sc">+</span> se</span>
<span id="cb666-9"><a href="ch12_n-1outcome.html#cb666-9" aria-hidden="true" tabindex="-1"></a>      ), <span class="at">width =</span> .<span class="dv">1</span>    ) </span></code></pre></div>
<pre><code>## Warning in FUN(X[[i]], ...): NAs introduced by coercion

## Warning in FUN(X[[i]], ...): NAs introduced by coercion</code></pre>
<p><img src="12_iv-cue-trial_dv-expectjayazeri_N-2_files/figure-html/unnamed-chunk-29-1.png" width="672" /></p>
<div class="sourceCode" id="cb668"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb668-1"><a href="ch12_n-1outcome.html#cb668-1" aria-hidden="true" tabindex="-1"></a>g</span></code></pre></div>
<p><img src="12_iv-cue-trial_dv-expectjayazeri_N-2_files/figure-html/unnamed-chunk-29-2.png" width="672" /></p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="ch11_n-1outcome.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="ch13_outcome-expect.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/USERNAME/REPO/edit/BRANCH/12_iv-cue-trial_dv-expectjayazeri_N-2.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf", "_main.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
